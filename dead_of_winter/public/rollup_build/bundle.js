var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function a(e){e.forEach(r)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function s(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function d(e){let t;return u(e,(e=>t=e))(),t}function m(e,t,n){e.$$.on_destroy.push(u(t,n))}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),g=f?e=>requestAnimationFrame(e):e;const h=new Set;function v(e){h.forEach((t=>{t.c(e)||(h.delete(t),t.f())})),0!==h.size&&g(v)}function b(e){let t;return 0===h.size&&g(v),{promise:new Promise((n=>{h.add(t={c:e,f:n})})),abort(){h.delete(t)}}}function C(e,t){e.appendChild(t)}function y(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function L(e){const t=$("style");return function(e,t){C(e.head||e,t)}(y(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function S(){return I(" ")}function P(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function T(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}const D=new Map;let A,N=0;function R(e,t,n,r,i,a,o,l=0){const c=16.666/r;let s="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*a(e);s+=100*e+`%{${o(r,1-r)}}\n`}const u=s+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,m=y(e),{stylesheet:f,rules:p}=D.get(m)||function(e,t){const n={stylesheet:L(t),rules:{}};return D.set(e,n),n}(m,e);p[d]||(p[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${i}ms 1 both`,N+=1,d}function z(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),N-=i,N||g((()=>{N||(D.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),D.clear())})))}function E(n,r,i,a){if(!r)return e;const o=n.getBoundingClientRect();if(r.left===o.left&&r.right===o.right&&r.top===o.top&&r.bottom===o.bottom)return e;const{delay:l=0,duration:c=300,easing:s=t,start:u=p()+l,end:d=u+c,tick:m=e,css:f}=i(n,{from:r,to:o},a);let g,h=!0,v=!1;function C(){f&&z(n,g),h=!1}return b((e=>{if(!v&&e>=u&&(v=!0),v&&e>=d&&(m(1,0),C()),!h)return!1;if(v){const t=0+1*s((e-u)/c);m(t,1-t)}return!0})),f&&(g=R(n,0,1,c,l,s,f)),l||(v=!0),m(0,1),C}function F(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,j(e,i)}}function j(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i="none"===r.transform?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function B(e){A=e}const _=[],O=[],U=[],W=[],H=Promise.resolve();let q=!1;function G(e){U.push(e)}const J=new Set;let K,Q=0;function V(){const e=A;do{for(;Q<_.length;){const e=_[Q];Q++,B(e),X(e.$$)}for(B(null),_.length=0,Q=0;O.length;)O.pop()();for(let e=0;e<U.length;e+=1){const t=U[e];J.has(t)||(J.add(t),t())}U.length=0}while(_.length);for(;W.length;)W.pop()();q=!1,J.clear(),B(e)}function X(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function Y(){return K||(K=Promise.resolve(),K.then((()=>{K=null}))),K}function ee(e,t,n){e.dispatchEvent(function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(`${t?"intro":"outro"}${n}`))}const te=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function ie(){ne.r||a(ne.c),ne=ne.p}function ae(e,t){e&&e.i&&(te.delete(e),e.i(t))}function oe(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),ne.c.push((()=>{te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const le={duration:0};function ce(n,r,i){let a,l,c=r(n,i),s=!1,u=0;function d(){a&&z(n,a)}function m(){const{delay:r=0,duration:i=300,easing:o=t,tick:m=e,css:f}=c||le;f&&(a=R(n,0,1,i,r,o,f,u++)),m(0,1);const g=p()+r,h=g+i;l&&l.abort(),s=!0,G((()=>ee(n,!0,"start"))),l=b((e=>{if(s){if(e>=h)return m(1,0),ee(n,!0,"end"),d(),s=!1;if(e>=g){const t=o((e-g)/i);m(t,1-t)}}return s}))}let f=!1;return{start(){f||(f=!0,z(n),o(c)?(c=c(),Y().then(m)):m())},invalidate(){f=!1},end(){s&&(d(),s=!1)}}}function se(n,r,i){let l,c=r(n,i),s=!0;const u=ne;function d(){const{delay:r=0,duration:i=300,easing:o=t,tick:d=e,css:m}=c||le;m&&(l=R(n,1,0,i,r,o,m));const f=p()+r,g=f+i;G((()=>ee(n,!1,"start"))),b((e=>{if(s){if(e>=g)return d(0,1),ee(n,!1,"end"),--u.r||a(u.c),!1;if(e>=f){const t=o((e-f)/i);d(1-t,t)}}return s}))}return u.r+=1,o(c)?Y().then((()=>{c=c(),d()})):d(),{end(e){e&&c.tick&&c.tick(1,0),s&&(l&&z(n,l),s=!1)}}}function ue(e,t){e.d(1),t.delete(e.key)}function de(e,t){oe(e,1,1,(()=>{t.delete(e.key)}))}function me(e,t){e.f(),ue(e,t)}function fe(e,t){e.f(),de(e,t)}function pe(e,t,n,r,i,a,o,l,c,s,u,d){let m=e.length,f=a.length,p=m;const g={};for(;p--;)g[e[p].key]=p;const h=[],v=new Map,b=new Map;for(p=f;p--;){const e=d(i,a,p),l=n(e);let c=o.get(l);c?r&&c.p(e,t):(c=s(l,e),c.c()),v.set(l,h[p]=c),l in g&&b.set(l,Math.abs(p-g[l]))}const C=new Set,y=new Set;function L(e){ae(e,1),e.m(l,u),o.set(e.key,e),u=e.first,f--}for(;m&&f;){const t=h[f-1],n=e[m-1],r=t.key,i=n.key;t===n?(u=t.first,m--,f--):v.has(i)?!o.has(r)||C.has(r)?L(t):y.has(i)?m--:b.get(r)>b.get(i)?(y.add(r),L(t)):(C.add(i),m--):(c(n,o),m--)}for(;m--;){const t=e[m];v.has(t.key)||c(t,o)}for(;f;)L(h[f-1]);return h}function ge(e){e&&e.c()}function he(e,t,n,i){const{fragment:l,on_mount:c,on_destroy:s,after_update:u}=e.$$;l&&l.m(t,n),i||G((()=>{const t=c.map(r).filter(o);s?s.push(...t):a(t),e.$$.on_mount=[]})),u.forEach(G)}function ve(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(_.push(e),q||(q=!0,H.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(t,n,r,o,l,c,s,u=[-1]){const d=A;B(t);const m=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};s&&s(m.root);let f=!1;if(m.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return m.ctx&&l(m.ctx[e],m.ctx[e]=i)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](i),f&&be(t,e)),n})):[],m.update(),f=!0,a(m.before_update),m.fragment=!!o&&o(m.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);m.fragment&&m.fragment.l(e),e.forEach(k)}else m.fragment&&m.fragment.c();n.intro&&ae(t.$$.fragment),he(t,n.target,n.anchor,n.customElement),V()}B(d)}class ye{$destroy(){ve(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Le=[];const xe=[{name:"약",description:"부상 토큰을 하나 제거합니다.",category:"약",type:"execute",feature:"care",targetCount:1},{name:"주사기",description:"부상 토큰을 두개를 제거합니다.",category:"약",type:"execute",feature:"care",targetCount:2},{name:"야구방망이",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴립니다.",category:"도구",type:"execute"},{name:"식량1",description:"식량창고에 식량토큰을 하나를 추가합니다.",category:"식량",type:"execute",feature:"food",targetCount:1},{name:"식량2",description:"식량창고에 식량토큰을 두개를 추가합니다.",category:"식량",type:"execute",feature:"food",targetCount:2},{name:"식량3",description:"식량창고에 식량토큰을 세개를 추가합니다.",category:"식량",type:"execute",feature:"food",targetCount:3},{name:"바리게이트",description:"바리게이트를 설치합니다.",category:"교육",type:"execute",feature:"barricade"},{name:"격투기",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"교육",type:"execute",feature:"attack",targetCount:1},{name:"가위",category:"도구",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",type:"execute",feature:"attack",targetCount:1},{name:"확성기",description:"좀비를 3구를 유인합니다.",category:"도구",type:"execute",feature:"invite"},{name:"외부인1",description:"외부인 1명을 피난기지로 보냅니다.",category:"외부인",type:"event",targetCount:1},{name:"외부인2",description:"외부인 2명을 피난기지로 보냅니다.",category:"외부인",type:"event",targetCount:2},{name:"외부인3",description:"외부인 3명을 피난기지로 보냅니다.",category:"외부인",type:"event",targetCount:3},{name:"학교 청사진",description:"학교의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["학교"]},{name:"경찰서 청사진",description:"경찰서의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["경찰서"]},{name:"주유소 청사진",description:"주유소의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["주유소"]},{name:"마트 청사진",description:"마트의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["마트"]},{name:"병원 청사진",description:"병원의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["병원"]},{name:"도서관 청사진",description:"도서관의 아이템 카드를 획득합니다.",category:"교육",type:"execute",feature:"search",placeNameList:["도서관"]},{name:"생존 요리법",description:"피난기지에 음식 토큰 1개를 추가합니다.",category:"교육",type:"execute",feature:"food",place:"피난기지",targetCount:1},{name:"리더십",category:"교육",description:"미사용 행동 주사위의 결과값을 1 증가시킵니다.",type:"execute",feature:"power"},{name:"잡동사니",description:"미사용 행동 주사위의 결과값을 1 증가시킵니다.",category:"도구",type:"execute",feature:"power"},{name:"백과사전",description:"미사용 행동 주사위의 결과값을 1 증가시킵니다.",category:"교육",type:"execute",feature:"power"},{name:"연료",description:"생존자를 이동합니다. 위험 노출 주사위를 굴리지 않습니다.",category:"연료",type:"execute",feature:"safeMove"},{name:"독서등",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴립니다.",category:"도구",type:"execute",feature:"attack",targetCount:1},{name:"무전기",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"도구",type:"execute",feature:"attack",targetCount:1},{name:"산탄총",description:"좀비를 2구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"무기",type:"execute",feature:"attack",targetCount:2},{name:"소총",description:"좀비를 2구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"무기",type:"execute",feature:"attack",targetCount:2},{name:"권총",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"무기",type:"execute",feature:"attack",targetCount:1},{name:"주머니칼",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"무기",type:"execute",feature:"attack",targetCount:1},{name:"야시경",description:"좀비를 1구를 제거합니다. 위험 노출 주사를 굴리지 않습니다.",category:"도구",type:"execute",feature:"attack",targetCount:1},{name:"자물쇠",description:"바리게이트를 설치합니다.",category:"도구",type:"execute",feature:"barricade"},{name:"망치",description:"바리게이트를 설치합니다.",category:"도구",type:"execute",feature:"barricade"},{name:"대걸레",description:"쓰레기 3개를 치웁니다.",category:"도구",type:"execute",feature:"clean"}];xe.forEach((e=>{e.canPreventRisk=!1,e.canExecute=!1}));const ke=[{index:0,name:"브라이언 리",job:"시장",power:68,attack:3,search:4,ability:{name:"도서관에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["도서관"]}},{index:1,name:"토머스 하트",job:"군인",power:64,attack:1,search:3,ability:{name:"현재 장소에서 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:2,name:"스파키",job:"스턴트견",power:10,attack:2,search:2,ability:{name:"이동하지만 위험 노출 주사위를 굴리지 않습니다.",type:"move"}},{index:3,name:"올리비아 브라운",job:"의사",power:56,attack:4,search:3,ability:{name:"올리바아와 같은 장소의 생존자(올리비아 포함) 중 한 명에게서 부상 토근 1개 제거합니다.",type:"care"}},{index:4,name:"그레이 비어드",job:"해적",power:16,attack:1,search:4,ability:{name:"현재 장소의 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:5,name:"로레타 클레이",job:"요리사",power:20,attack:2,search:4,ability:{name:"식량 창고에 식량 토큰 2개 추가합니다.",type:"food"}},{index:6,name:"앤드류 에반스",job:"농부",power:12,attack:3,search:3,ability:{name:"마트에 있을때, 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["마트"]}},{index:7,name:"탈리아 존스",job:"점술가",power:28,attack:3,search:1,ability:{name:"도서관에 있을때, 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["도서관"]}},{index:8,name:"포레스트 플럼",job:"쇼핑몰 직원",power:14,attack:2,search:5,ability:{name:"포레스트를 게임에서 제거함으로 사기 1 상승 합니다.",type:"plusMoral"}},{index:9,name:"데이비드 가르시아",job:"회계사",power:50,attack:4,search:3,ability:{name:"현재 장소에서 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:10,name:"존 프라이스",job:"학생",power:18,attack:3,search:5,ability:{name:"학교에 있을때, 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["학교"]}},{index:11,name:"에드워드 화이트",job:"화학자",power:44,attack:4,search:3,ability:{name:"주유소에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["주유소"]}},{index:12,name:"알렉시스 그레이",job:"사서",power:46,attack:5,search:4,ability:{name:"도서관에 있을때 아이템 카드 1장을 가져갑니다.",type:"get",placeNameList:["도서관"]}},{index:13,name:"마리아 로페즈",job:"교사",power:48,attack:4,search:2,ability:{name:"학교에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["학교"]}},{index:14,name:"소피 로빈슨",job:"항공기 조종사",power:58,attack:4,search:1,ability:{name:"경찰서에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["경찰서"]}},{index:15,name:"가브리엘 디아즈",job:"소방관",power:60,attack:2,search:3,ability:{name:"현재 장소에선 외부인 카드 1장를 가져갑니다.",type:"rescue"}},{index:16,name:"제니 클라크",job:"웨이트리스",power:24,attack:4,search:3,ability:{name:"현재 장소의 아이템 카드를 1장을 가져갑니다.",type:"get",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:17,name:"브랜든 케인",job:"건물 관리인",power:26,attack:2,search:4,ability:{name:"쓰레기 카드 5장 처분합니다.",type:"clean"}},{index:18,name:"베브 러셀",job:"어머니",power:34,attack:2,search:4,ability:{name:"피난기지에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위 굴리지 않습니다.",type:"killZombie",placeNameList:["피난기지"]}},{index:19,name:"버디 데이비스",job:"헬스 트레이너",power:36,attack:2,search:4,ability:{name:"마트에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["마트"]}},{index:20,name:"애널리 첸",job:"변호사",power:38,attack:2,search:2,ability:{name:"현재 장소의 아이템 카드를 1장을 가져갑니다.",type:"get",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:21,name:"로드 밀러",job:"트럭 운전기사",power:40,attack:3,search:3,ability:{name:"주유소에 있을때 아이템 카드를 1장을 가져갑니다.",type:"get",placeNameList:["주유소"]}},{index:22,name:"자넷 타일러",job:"간호사",power:42,attack:3,search:4,ability:{name:"병원에 있을때 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["병원"]}},{index:23,name:"아서 서스턴",job:"교장",power:62,attack:4,search:2,ability:{name:"학교에 있을때 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["학교"]}},{index:24,name:"마이크 조",job:"닌자",power:30,attack:2,search:4,ability:{name:"현재 장소에서 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:25,name:"하먼 브록스",job:"공원 관리인",power:32,attack:3,search:3,ability:{name:"현재 장소에 바리케이트 2개 설치합니다.",type:"barricade",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:26,name:"제임스 마이어스",job:"정신과 의사",power:54,attack:6,search:3,ability:{name:"병원에 있을때 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["병원"]}},{index:27,name:"카를라 톰슨",job:"경찰 지령요원",power:22,attack:4,search:3,ability:{name:"경찰서에 있을때 아이템 카드 1장 가져갑니다.",type:"get",placeNameList:["경찰서"]}},{index:28,name:"에슐리 로스",job:"건설 노동자",power:52,attack:2,search:5,ability:{name:"현재 장소에 바리케이트 2개 설치합니다.",type:"barricade",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}},{index:29,name:"다니엘 스미스",job:"보안관",power:66,attack:2,search:5,ability:{name:"현재 장소에서 좀비 1구 처치합니다. 이때 위험 노출 주사위를 굴리지 않습니다.",type:"killZombie",placeNameList:["피난기지","병원","경찰서","주유소","학교","도서관","마트"]}}];ke.forEach((e=>{e.wound=0,e.playerIndex=0,e.active=!1,e.place=null,e.ability.done=!1,e.actionTable=[],e.foodList=[],e.noRollDangerDice=!1,e.canUseAbility=!0,e.playerName}));const we=[{name:"피난기지",maxSurvivorCount:24,survivorList:[],survivorLocationList:[],foodCount:0,starvingTokenCount:0,weakTokenCount:0,trashCount:0,itemCardList:[],entranceList:[{maxZombieCount:3,zombieCount:0,barricadeCount:0},{maxZombieCount:3,zombieCount:0,barricadeCount:0},{maxZombieCount:3,zombieCount:0,barricadeCount:0},{maxZombieCount:3,zombieCount:0,barricadeCount:0},{maxZombieCount:3,zombieCount:0,barricadeCount:0},{maxZombieCount:3,zombieCount:0,barricadeCount:0}]},{name:"경찰서",entranceList:[{maxZombieCount:4,zombieCount:0,barricadeCount:0}],maxSurvivorCount:3,survivorList:[],survivorLocationList:[],noiseTokenCount:0,itemCardList:["무전기","잡동사니","야시경","자물쇠","산탄총","권총","권총","권총","소총","소총","연료","연료","연료","연료","식량1","식량1","식량1","외부인1","외부인2","외부인2"]},{name:"병원",entranceList:[{maxZombieCount:4,zombieCount:0,barricadeCount:0}],maxSurvivorCount:4,survivorList:[],survivorLocationList:[],noiseTokenCount:0,itemCardList:["잡동사니","대걸레","약","약","약","약","약","주사기","주사기","연료","연료","연료","연료","식량2","식량2","식량2","식량2","외부인2","외부인2","외부인2"]},{name:"학교",entranceList:[{maxZombieCount:4,zombieCount:0,barricadeCount:0}],maxSurvivorCount:4,survivorList:[],survivorLocationList:[],noiseTokenCount:0,itemCardList:["잡동사니","야구방망이","가위","확성기","약","약","약","학교 청사진","바리게이트","리더십","격투기","식량1","식량1","식량1","식량2","식량2","식량2","외부인2","외부인2","외부인3"]},{name:"마트",maxSurvivorCount:3,entranceList:[{maxZombieCount:4,zombieCount:0,barricadeCount:0}],survivorList:[],survivorLocationList:[],noiseTokenCount:0,itemCardList:["잡동사니","잡동사니","주머니칼","망치","연료","약","약","약","약","약","약","식량1","식량1","식량2","식량2","식량3","식량3","외부인1","외부인2","외부인2"]},{name:"도서관",entranceList:[{maxZombieCount:3,zombieCount:0,barricadeCount:0}],maxSurvivorCount:3,survivorList:[],survivorLocationList:[],barricadeCount:0,noiseTokenCount:0,itemCardList:["독서등","잡동사니","백과사전","생존 요리법","경찰서 청사진","병원 청사진","마트 청사진","주유소 청사진","도서관 청사진","연료","연료","연료","연료","식량1","식량1","식량1","식량1","외부인1","외부인2","외부인2"]},{name:"주유소",entranceList:[{maxZombieCount:3,zombieCount:0,barricadeCount:0}],maxSurvivorCount:2,survivorList:[],survivorLocationList:[],noiseTokenCount:0,itemCardList:["산탄총","주머니칼","주머니칼","바리게이트","잡동사니","약","약","약","연료","연료","연료","연료","연료","연료","식량1","식량1","식량1","외부인1","외부인2","외부인2"]}];ke.forEach((e=>{e.activieSurvive=null})),we.forEach(((e,t)=>{e.index=t,e.currentZombieCount=0,e.currentBarricadeCount=0,e.maxZombieCount=0,e.currentZombieList=[],e.entranceList.forEach((e=>{e.zombieList=[]})),e.activeClassName=0===t?"active":"inactive"}));const $e={fail:!1,itemCardAnimationType:"risk",modalClass:"",modalType:"",actionType:"",currentActionIndex:-1,goal:"좀비 40구를 잡아라",messageList:[],zombieIndex:0,entranceZombieIndex:0,campFoodIndex:0,campTrashIndex:0,selectedItemCardFeature:null,selectedActionIndex:0,actionTable:[],currentPlace:null,currentPlaceName:"피난기지",currentRiskCard:null,riskCard:!0,dangerDice:!1,currentSurvivor:null,successRiskCardList:[],currentPlayer:null,canTurn:!1,canAction:!1,rollDice:!1,turn:0,round:6,moral:6,survivorCount:0,deadSurvivorCount:0,deadSurvivorList:[],zombieCount:0,zombieTokenCount:0,deadZombieCount:0,deadZombieList:[],itemCardCount:0,riskCardList:[{name:"식량 2개를 모아라. 실패시 사기 1 하락",condition:{itemCardList:["식량"],fail:{actionList:[{name:"minusMoral"}]}}},{name:"연료 2개를 모아라. 실패시 피난기지에 좀비 12구 출현",condition:{itemCardList:["연료"],fail:{actionList:[{name:"zombie",targetCount:12,placeList:["피난기지"]}]}}},{name:"약 2개를 모아라. 실패시 5번의 부상",condition:{itemCardList:["약"],fail:{actionList:[{name:"wound",targetCount:5}]}}},{name:"약/도구 2개를 모아라. 실패시 도서관과 마트에 좀비 3구 출현",condition:{itemCardList:["약","도구"],fail:{actionList:[{name:"zombie",placeList:["도서관","마트"],targetCount:3}]}}},{name:"약/도구 2개를 모아라. 실패시 바리케이드 모두 제거, 1번의 부상",condition:{itemCardList:["약","도구"],fail:{actionList:[{name:"barricade",targetCount:100},{name:"wound",targetCount:1}]}}},{name:"연료 2개를 모아라. 실패시 사기 2 저하, 1번의 부상",condition:{itemCardList:["연료"],fail:{actionList:[{name:"minusMoral",targetCount:2},{name:"wound",targetCount:1}]}}},{name:"식량 2개를 모아라. 실패시 굶주림 토큰 1개, 사기 1 저하",condition:{itemCardList:["식량"],fail:{actionList:[{name:"starving",targetCount:1},{name:"minusMoral",targetCount:1}]}}},{name:"식량 2개를 모아라. 실패시 굶주림 토큰 1개, 사기 1 저하",condition:{itemCardList:["식량"],fail:{actionList:[{name:"starving",targetCount:1},{name:"minusMoral",targetCount:1}]}}},{name:"도구 2개를 모아라. 실패시 피난기지에 좀비 6구 촐몰, 다른 모든 장소에는 좀비 1구 출몰",condition:{itemCardList:["도구"],fail:{actionList:[{name:"zombie",placeList:["피난기지"],targetCount:6},{name:"zombie",placeList:["병원","마트","경찰서","주유소","도서관","학교"],targetCount:1}]}}},{name:"약 2개를 모아라. 실패시 모든 생존자 1번의 부상, 사기 1 저하",condition:{itemCardList:["약"],fail:{actionList:[{name:"wound",targetCount:100},{name:"minusMoral",targetCount:1}]}}},{name:"식량 2개를 모아라. 실패시 사기 2 저하",condition:{itemCardList:["식량"],fail:{actionList:[{name:"minusMoral",targetCount:2}]}}},{name:"식량/약 2개를 모아라. 실패시 병원, 주유소에 좀비 3구 출몰",condition:{itemCardList:["식량","약"],fail:{actionList:[{name:"zombie",placeList:["병원","주유소"],targetCount:3}]}}},{name:"연료 2개를 모아라. 실패시 모든 바리케이트 제거",condition:{itemCardList:["연료"],fail:{actionList:[{name:"barricade",targetCount:100}]}}},{name:"연료 2개를 모아라. 실패시 바리케이트 제거, 1번의 부상, 사기 1 저하",condition:{itemCardList:["연료"],fail:{actionList:[{name:"barricade"},{name:"wound",targetCount:1},{name:"minusMoral",targetCount:1}]}}},{name:"도구 2개를 모아라. 실패시 피난기지에 좀비 8구 출몰, 사기 1 저하",condition:{itemCardList:["도구"],fail:{actionList:[{name:"zombie",placeList:["피난기지"],targetCount:8},{name:"minusMoral",targetCount:1}]}}},{name:"약 2개를 모아라. 실패시 사기 2 저하",condition:{itemCardList:["약"],fail:{actionList:[{name:"minusMoral",targetCount:2}]}}},{name:"식량 2개를 모아라. 실패시 생존자 2명 죽음, 사기는 저하되지 않습니다.",condition:{itemCardList:["식량"],fail:{actionList:[{name:"dead",targetCount:2}]}}},{name:"식량 2개를 모아라. 실패시 생존자 1명 죽음, 사기 1 저하",condition:{itemCardList:["식량"],fail:{actionList:[{name:"dead",targetCount:1},{name:"minusMoral",targetCount:1}]}}},{name:"도구 2개를 모아라. 실패시 피난기지의 식량 3개 제거, 사기 1 저하",condition:{itemCardList:["도구"],fail:{actionList:[{name:"식량제거",targetCount:3},{name:"minusMoral",targetCount:1}]}}},{name:"도구/연료 2개를 모아라. 실패시 학교, 경찰서에 각각 좀비 1구 출몰",condition:{itemCardList:["도구","연료"],fail:{actionList:[{name:"zombie",placeList:["학교","경찰서"],targetCount:1}]}}}],itemCardList:xe,initItemCardList:["식량1","식량1","식량1","식량1","식량1","식량1","식량1","식량1","식량1","식량1","약","약","약","약","약","잡동사니","잡동사니","잡동사니","잡동사니","잡동사니","연료","연료","연료","연료","연료"],placeList:we,survivorList:ke,playerList:[{index:0,name:"테드",color:"#e3befa",survivorList:[],itemCardList:[],actionDiceList:[],actionTable:[]},{index:1,name:"다은",color:"#FCF3CF  ",survivorList:[],itemCardList:[],actionDiceList:[],actionTable:[]}]};$e.survivorList.reduce(((e,t)=>{const{ability:n}=t,r=`${n.type}-${n.place}`;return e[r]=e[r]??0,e[r]++,e}),{}),$e.survivorList.forEach((e=>e.woundedCount=0));const{subscribe:Ie,set:Se,update:Pe}=function(t,n=e){let r;const i=new Set;function a(e){if(l(t,e)&&(t=e,r)){const e=!Le.length;for(const e of i)e[1](),Le.push(e,t);if(e){for(let e=0;e<Le.length;e+=2)Le[e][0](Le[e+1]);Le.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(o,l=e){const c=[o,l];return i.add(c),1===i.size&&(r=n(a)||e),o(t),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}($e);let Ze=()=>{},Me=$e;const Te=e=>{Pe((t=>(Me=t,e(t),t)))},De=e=>{Te(e),Ze()};let Ae={subscribe:Ie,set:Se,update:Pe};Ae={...Ae,minusRound:()=>De((e=>{Me.round-=1})),plusMoral:()=>De((e=>{Me.moral+=1})),minusMoral:()=>De((e=>{Me.moral>0&&Me.moral--})),initRiskCard:()=>{Me.riskCardList=Me.riskCardList.sort(Ae.random)},initItemCard:()=>{Me.playerList.forEach((e=>{e.itemCardList=$e.initItemCardList.sort(Ae.random).slice(0,7).map((e=>Ae.createNewItemCard(e)))})),Me.placeList.forEach((e=>{e.itemCardList=e.itemCardList.sort(Ae.random).map((e=>Ae.createNewItemCard(e)))}))},createNewItemCard:e=>({...Me.itemCardList.find((t=>t.name===e))}),getPlayerColorForSurvivor:e=>Me.playerList.find((t=>t.index===e.playerIndex)).color,initSurvivor:e=>{Me.playerList.forEach(((e,t)=>{Me.survivorList.sort(Ae.random);const n=[];for(let e=0;e<4;e++){const e=Me.survivorList.pop();e.playerIndex=t,n.push(e)}n.sort(((e,t)=>e.index-t.index)),e.survivorList=n,Me.survivorList=[...Me.survivorList]}))},updatePlace:()=>{Me.placeList.forEach((e=>{"피난기지"===e.name&&(e.trashCount=e.trashList.length),e.survivorList.sort(((e,t)=>e.playerIndex-t.playerIndex));const t={};Me.playerList.forEach((e=>{t[e.name]=[]})),e.playerSurvivorMap=e.survivorList.reduce(((e,t)=>{const n=Me.playerList[t.playerIndex].name;return e[n]=e[n]??[],e[n].push(t),e}),t),e.survivorList,e.name===Me.currentPlaceName?e.activeClassName="active":e.activeClassName="inactive",e.currentZombieCount=e.entranceList.map((e=>e.zombieCount)).reduce(((e,t)=>e+t),0),e.currentZombieList=[];for(let t=0;t<e.currentZombieCount;t++)e.currentZombieList.push($e.zombieIndex++);e.maxZombieCount=e.entranceList.map((e=>e.maxZombieCount)).reduce(((e,t)=>e+t),0),e.currentBarricadeCount=e.entranceList.map((e=>e.barricadeCount)).reduce(((e,t)=>e+t),0),e.survivorLocationList=[...Array(e.maxSurvivorCount).keys()].map((t=>e.survivorList.length>t?e.survivorList[t]:null))}))},getCamp:()=>Me.placeList.find((e=>"피난기지"===e.name)),getSurvivorList:()=>Me.playerList.flatMap((e=>e.survivorList)),getCurrentPlayer:()=>Me.playerList[Me.turn%2],getCurrentPlayerColor:()=>Ae.getCurrentPlayer().color,getPlayerColor:e=>Me.playerList[e].color,initCamp:()=>{const e=Ae.getSurvivorList(),t=Ae.getCamp();t.survivorList=e,t.survivorList.forEach((e=>e.place=t)),t.foodList=[...Array(t.foodCount).keys()].map((e=>Me.campFoodIndex++)),t.trashList=[]},care:e=>{De((t=>{Me.currentSurvivor.canUseAbility=!1,Me.currentActionIndex>=0&&(Me.currentPlayer.actionDiceList[Me.currentActionIndex].done=!0),e.wound--,Me.modalClass="",Me.modalType=""})),alert(`${e.name} 부상토큰 하나가 제거되었습니다.`)},move:(e,t)=>{De((n=>{Me.modalClass="",Me.modalType="",Me.actionType="move",Me.placeList.forEach((n=>{n.name===t?n.survivorList=[...n.survivorList,e]:n.survivorList=n.survivorList.filter((t=>t.index!==e.index))})),Me.currentSurvivor=e,Me.currentSurvivor.place=Me.placeList.find((e=>e.name===t)),Me.currentPlaceName=t,Me.currentActionIndex>=0&&(Me.currentPlayer.actionDiceList[Me.currentActionIndex].done=!0)}))},changePlaceByName:e=>{null!==e&&De((t=>t.currentPlaceName=e))},showMessage:e=>{De((t=>t.messageList=e))},processFood:e=>{const t=Ae.getCamp();if(t.survivorList.length>=2){const n=Math.floor(t.survivorList.length/2);if(n>t.foodCount){let n=0,r=0;if(De((e=>{r=Me.moral,t.starvingTokenCount++,n=t.starvingTokenCount})),e.push("식량이 부족하여 굶주림 토큰이 추가되었습니다."),n>0){for(let e=0;e<n;e++)Ae.minusMoral();let t=0;De((e=>{t=Me.moral})),e.push(`굶주림 토큰이 ${n}개가 있어서 사기가 ${r}에서 ${t}로 하락 하였습니다.`)}}else{for(let e=0;e<n;e++)De((e=>{const t=Ae.getCamp();Ae.removeFood(t)}));e.push(`식량을 ${n}개 소모합니다.`)}Ae.showMessage(e)}},processTrash:e=>{const t=Ae.getCamp();if(t.trashList.length<10)return;const n=Math.floor(t.trashList.length/10);e.push(`쓰레기가 ${t.trashList.length}에서 ${t.trashList.length-10*n}로 줄어들었으며 사기는 ${n} 하락합니다.`),Ae.showMessage(e),De((e=>{for(let e=0;e<n;e++)Ae.minusMoral(Me);const t=Ae.getCamp();for(let e=0;e<10*n;e++)t.trashList.pop()}))},processRisk:e=>{Me.successRiskCardList.length<2?(e.push("위기상황을 해결하지 못하였습니다."),Ae.showMessage(e),Me.currentRiskCard.condition.fail.actionList.forEach((t=>{if("minusMoral"===t.name){for(let e=0;e<t.targetCount;e++)Ae.minusMoral();e.push(`사기 ${t.targetCount} 하락합니다.`),Ae.showMessage(e)}else if("zombie"===t.name)t.placeList.map((e=>Me.placeList.find((t=>t.name===e)))).forEach((n=>{Ae.inviteZombie(n,void 0,t.targetCount),e.push(`좀비가 ${n.name}에 ${t.targetCount}구 출몰하였습니다.`),Ae.showMessage(e)}));else if("wound"===t.name){const n=Me.playerList.flatMap((e=>e.survivorList)).sort(Ae.random);for(let r=0;r<t.targetCount;r++){const t=n.pop();t&&(De((e=>{Me.currentSurvivor=t})),Ae.wound(e))}}else if("barricade"===t.name)Ae.removeAllBarricade(e);else if("dead"===t.name){const n=Me.playerList.flatMap((e=>e.survivorList)).sort(Ae.random);for(let r=0;r<t.targetCount;r++){const t=n.pop();De((e=>{Me.currentSurvivor=t})),Ae.dead(!1,e)}}else if("food"===t.name){for(let e=0;e<t.targetCount;e++)De((e=>{const t=Ae.getCamp();Ae.removeFood(t)}));e.push(`피난기지의 식량 ${t.targetCount}개가 제거되었습니다.`),Ae.showMessage(e)}}))):(e.push("위기상황을 해결하였습니다."),Ae.showMessage(e))},turn:()=>{De((e=>{Me.currentPlayer.actionTable=[],Me.survivorList.forEach((e=>{e.actionTable=[]})),Me.placeList.forEach((e=>{e.survivorList.forEach((e=>{e.actionTable=[],e.canUseAbility=!0}))})),Me.playerList.forEach((e=>e.actionDiceList=[])),Me.turn++,Me.canAction=!1,Me.canTurn=!1,Me.rollDice=!0}));const e=Me.turn;if(e>0&&e%2==0){const e=[];Ae.processFood(e),Ae.processTrash(e),Ae.processRisk(e),Ae.showZombie(e),De((t=>{Me.riskCard=!0,Me.rollDice=!1,Me.messageList=e})),Ae.minusRound()}},removeAllBarricade:e=>{De((e=>{Me.placeList.flatMap((e=>e.entranceList)).forEach((e=>{e.barricadeCount=0}))})),e.push("바라케이트가 제거되었습니다."),Ae.showMessage(e)},changePlace:e=>{let t=null;49===e.keyCode||97===e.keyCode?t="피난기지":50===e.keyCode||98===e.keyCode?t="경찰서":51===e.keyCode||99===e.keyCode?t="병원":52===e.keyCode||100===e.keyCode?t="학교":53===e.keyCode||101===e.keyCode?t="마트":54===e.keyCode||102===e.keyCode?t="도서관":55===e.keyCode||103===e.keyCode?t="주유소":56===e.keyCode&&console.log(Me),Ae.changePlaceByName(t)},init:()=>De((e=>{Ae.initRiskCard(),Ae.initItemCard(),Ae.initSurvivor(),Ae.initCamp()})),getPlayerSurvivorList:(e,t)=>e.placeList.flatMap((e=>e.survivorList)).filter((e=>e.playerIndex===t.index)),updateSurvivor:e=>{e.playerList.forEach((t=>{t.survivorList=Ae.getPlayerSurvivorList(e,t),e.placeList.flatMap((e=>e.survivorList)).forEach((t=>{t.woundList=[...Array(t.wound).keys()],t.playerName=e.playerList[t.playerIndex].name,t.noRollDangerDice=!1}))})),e.survivorCount=e.playerList.map((e=>e.survivorList.length)).reduce(((e,t)=>e+t),0),e.playerList=e.playerList.map((e=>(e.active=!1,e)))},sum:(e,t)=>e+t,updateZombie:e=>{e.zombieCount=e.placeList.flatMap((e=>e.entranceList)).map((e=>e.zombieCount)).reduce(Ae.sum)},updateItemCard:e=>{e.itemCardCount=e.playerList.map((e=>e.itemCardList.length)).reduce(Ae.sum);let t=0;e.playerList.forEach((n=>{n.itemCardList.forEach((e=>{e.index=t++})),e.playerList.forEach((e=>{e.itemCardList.forEach((e=>{e.canAction=!1,e.canPreventRisk=!1}))})),e.currentPlayer.itemCardList.forEach((t=>{let n=!0;t.placeNameList&&"search"===t.feature&&(n=e.currentSurvivor.place.name===t.placeNameList[0]),t.canAction=!0===e.canAction&&e.selectedItemCardFeature===t.feature&&n})),e.currentRiskCard&&e.currentPlayer.itemCardList.forEach((t=>{t.canPreventRisk=!1===e.dangerDice&&null===e.selectedItemCardFeature&&e.successRiskCardList.length<2&&e.canAction&&e.currentRiskCard.condition.itemCardList.filter((e=>e===t.category)).length>0}))}))},updateItemCardTable:e=>{e.playerList.forEach((e=>{e.itemCardTable=e.itemCardList.reduce(((e,t)=>{const n=e.find((e=>e.name===t.name));return n?n.count++:e.push({name:t.name,description:t.description,category:t.category,count:1}),e}),[]).sort(((e,t)=>e.name>t.name?1:e.name<t.name?-1:0))}))},updateSurvivorCount:()=>{$e.survivorCount=$e.placeList.map((e=>e.survivorList.length)).reduce(((e,t)=>e+t),0),0===$e.survivorCount&&alert("생존자가 모두 죽었습니다. 실패하였습니다.")},setDisabled:e=>!0===e?"":"disabled",updateSurvivorActionTable:e=>{const t=Ae.getCurrentPlayer(e),n=Ae.getCamp(e);t.survivorList.forEach((r=>{let i=r.place;r.actionTable=t.actionDiceList.map((n=>{const a=t.itemCardList.filter((e=>"attack"===e.feature)).filter((e=>i.maxZombieCount>i.currentZombieCount+i.currentBarricadeCount)).filter((e=>i.currentZombieCount>0)),o=t.itemCardList.filter((e=>"search"===e.feature)).filter((e=>i.itemCardList.length>0)).filter((e=>e.placeNameList.filter((e=>e===i.name)).length>0)),l=t.itemCardList.filter((e=>"care"===e.feature)).filter((e=>r.wound>0)),c=t.itemCardList.filter((e=>"food"===e.feature)),s=t.itemCardList.filter((e=>"barricade"===e.feature)).filter((e=>i.maxZombieCount>i.zombieCount+i.barricadeCount));return{dice:n,ability:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&Ae.canUseAbility(r),food:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&n.power<6&&Ae.getCamp(e).foodCount>0,attack:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&n.power>=r.attack&&i.currentZombieCount>0,search:null===e.selectedItemCardFeature&&n.power>=r.search&&!n.done&&!e.dangerDice&&i.itemCardList.length>0,barricade:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&i.maxZombieCount>i.currentZombieCount+i.currentBarricadeCount,clean:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&"피난기지"===i.name&&i.trashCount>0,invite:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&i.maxZombieCount>=i.currentZombieCount+i.currentBarricadeCount+2,move:null===e.selectedItemCardFeature&&!n.done&&t.itemCardList.filter((e=>"safeMove"===e.feature)),itemFood:null===e.selectedItemCardFeature&&!n.done&&!e.dangerDice&&n.power<6&&t.itemCardList.filter((e=>"power"===e.feature)).length>0,attackItemList:a,searchItemList:o,careItemList:l,foodItemList:c,barricadeItemList:s}}));const a=t.itemCardList.filter((e=>"attack"===e.feature)).filter((e=>i.currentZombieCount>0)),o=t.itemCardList.filter((e=>"search"===e.feature)).filter((e=>i.itemCardList.length>0)).filter((e=>e.placeNameList.filter((e=>e===i.name)).length>0)),l=t.itemCardList.filter((e=>"care"===e.feature)).filter((e=>r.wound>0)),c=t.itemCardList.filter((e=>"clean"===e.feature)).filter((e=>n.trashCount>0)),s=t.itemCardList.filter((e=>"food"===e.feature)),u=t.itemCardList.filter((e=>"barricade"===e.feature)).filter((e=>i.entranceList.filter((e=>e.maxZombieCount>e.zombieCount+e.barricadeCount)).length>0));r.actionItemCard={attack:null===e.selectedItemCardFeature&&a.length>0,search:null===e.selectedItemCardFeature&&o.length>0,care:null===e.selectedItemCardFeature&&l.length>0,food:null===e.selectedItemCardFeature&&s.length>0,barricade:null===e.selectedItemCardFeature&&u.length>0,clean:null===e.selectedItemCardFeature&&c.length>0},r.actionItemCard.enabled=Object.values(r.actionItemCard).filter((e=>e)).length>0,r.targetPlaceList=e.placeList.map((e=>({...e,disabled:!1}))).map((t=>(t.disabled=null!=e.selectedItemCardFeature||e.dangerDice||i.name===t.name||t.survivorList.length>=t.maxSurvivorCount,t)))}));const r=t.actionDiceList.filter((e=>e.done)).length;return 0!==r&&r===t.actionDiceList.length&&!1===e.dangerDice&&(e.canTurn=!0),e.actionTable=[{name:"공격",dice:!0,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.attack)).length>0)).length},{name:"검색",dice:!0,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.search)).length>0)).length},{name:"바리게이트",dice:!0,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.barricade)).length>0)).length},{name:"청소",dice:!0,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.clean)).length>0)).length},{name:"유인",dice:!0,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.invite)).length>0)).length},{name:"식사",dice:!1,count:t.survivorList.filter((e=>e.actionTable.filter((e=>e.food)).length>0)).length}],e},isCurrentPlayerOfSurvivor:e=>Ae.getCurrentPlayer().survivorList.filter((t=>t.name===e.name)).length>0,check:()=>!0!==Me.fail&&(0===Me.moral?(alert("사기가 0입니다. 실패하였습니다."),!1):0===Me.round?(alert("라운드가 0입니다. 실패하였습니다."),!1):(Me.playerList.forEach((e=>{if(0===Ae.getPlayerSurvivorList(Me,e).length)return alert(`${e.name}의 생존자가 모두 죽었습니다. 실패하였습니다.`),!1})),40!==Me.deadZombieCount||(alert("목표를 완수하였습니다."),!1))),updateAll:()=>Te((e=>{Ae.check()?(Me.currentPlayer=Me.playerList[e.turn%2],Ae.updateSurvivorCount(Me),Ae.updateItemCardTable(Me),Ae.updateSurvivor(Me),Ae.updateItemCard(Me),Ae.updateZombie(Me),Ae.updatePlace(),Ae.updateSurvivorActionTable(Me)):Me.fail=!0})),done:(e,t)=>{De((e=>{Ae.getCurrentPlayer().actionDiceList[t].done=!0}))},plusPower:(e,t,n)=>{De((t=>{Ae.getCurrentPlayer().actionDiceList[n].power++;const r=Ae.getCamp();Ae.removeFood(r,e)}))},removeFood:(e,t)=>{const n=e.foodList.pop();e.foodList=[...e.foodList],e.foodCount=e.foodList.length,void 0!==t&&(t.foodList=[...t.foodList,n])},addFood:(e,t,n)=>{for(let r=0;r<n;r++)t.foodList.push(e.campFoodIndex++);t.foodCount=t.foodList.length},selectItemCard:(e,t)=>{De((e=>{Me.selectedItemCardFeature="power",Me.selectedActionIndex=t}))},selectItemCardWithoutDice:(e,t,n)=>{De((r=>{Me.currentPlace=e,Me.selectedItemCardFeature=n,Me.currentSurvivor=t,Me.currentSurvivor.place=e}))},preventRisk:e=>{De((t=>{Me.itemCardAnimationType="risk",Me.currentPlayer.itemCardList=Me.currentPlayer.itemCardList.filter((t=>t.index!==e.index)),Me.successRiskCardList=[...Me.successRiskCardList,e]}))},search:(e,t,n,r)=>{null===e?De((e=>{Ae.searchInternal(Me,t,n,r)})):Ae.searchInternal(e,t,n,r)},addSurvivor:(e,t)=>{alert(`외부인 ${t.targetCount}명을 피난기지에 합류합니다.`);for(let n=0;n<t.targetCount;n++){const t=e.survivorList.pop();t.playerIndex=e.currentPlayer.index,t.place=Ae.getCamp(e),e.placeList.find((e=>"피난기지"===e.name)).survivorList.push(t)}},searchInternal:(e,t,n,r)=>{e.itemCardAnimationType="get",e.currentSurvivor=t,e.currentSurvivor.place=n;const i=n.itemCardList.pop();"외부인"===i.category?Ae.addSurvivor(e,i):e.currentPlayer.itemCardList=[i,...e.currentPlayer.itemCardList],void 0!==r&&(e.currentPlayer.actionDiceList[r].done=!0)},setUseAbility:(e,t)=>{const n=e.placeList.flatMap((e=>e.survivorList)).find((e=>e.index===t.index));return n.canUseAbility=!1,n},useAbility:(e,t,n)=>{if(t.name,e.ability.placeNameList,Ae.getCurrentPlayer(),e.noRollDangerDice=!0,"killZombie"===e.ability.type)De((r=>{Ae.killZombieWithGame(e,t,n);Ae.setUseAbility(Me,e).noRollDangerDice=!1}));else if("get"===e.ability.type)De((r=>{Ae.searchInternal(Me,e,t,n),Ae.setUseAbility(Me,e)}));else if("move"===e.ability.type)De((r=>{Me.modalClass="show",Me.modalType="move",Me.currentSurvivor=e,Me.currentSurvivor.place=t,Me.currentActionIndex=n,e.canUseAbility=!1}));else if("care"===e.ability.type)De((r=>{Me.currentSurvivor=e,Me.currentSurvivor.place=t,Me.currentPlace=t,Me.modalClass="show",Me.modalType="care",Me.currentActionIndex=n}));else if("food"===e.ability.type)De((t=>{const r=Ae.getCamp();return Ae.addFood(t,r,2),e.canUseAbility=!1,Me.currentPlayer.actionDiceList[n].done=!0,Me}));else if("plusMoral"===e.ability.type)De((r=>{Me.currentSurvivor=e,Me.currentSurvivor.place=t,e.canUseAbility=!1,Me.currentPlayer.actionDiceList[n].done=!0})),Ae.dead(!1,void 0,t),Ae.plusMoral(),alert("사기가 상승하였습니다.");else if("rescue"===e.ability.type)De((r=>{const i=Me.placeList.find((e=>e.name===t.name));let a=!1,o=null;i.itemCardList=i.itemCardList.filter((e=>!1!==a||"외부인"!==e.category||(o=e,a=!0,!1))),Ae.addSurvivor(Me,o),Me.currentSurvivor=e,Me.currentSurvivor.place=t,e.canUseAbility=!1,Me.currentPlayer.actionDiceList[n].done=!0}));else if("clean"===e.ability.type)Pe((n=>(n.currentSurvivor=e,Me.currentSurvivor.place=t,n.currentSurvivor.canUseAbility=!1,n))),Ae.clean(5,n);else if("barricade"===e.ability.type){Pe((n=>(n.currentSurvivor=e,Me.currentSurvivor.place=t,n.currentSurvivor.canUseAbility=!1,n)));for(let e=0;e<2;e++)Ae.createBarricade(t,n)}},use:async e=>{De((t=>{Me.currentPlayer.itemCardList=Me.currentPlayer.itemCardList.filter((t=>t.index!==e.index));const n=Ae.getCamp();if("power"===e.feature)Me.currentPlayer.actionDiceList[Me.selectedActionIndex].power++;else if("food"===e.feature)Ae.addFood(Me,n,e.targetCount);else if("clean"===e.feature)Ae.clean(4);else if("search"===e.feature){const t=Me.placeList.find((t=>t.name===e.placeNameList[0]));Ae.search(Me,Me.currentSurvivor,t)}else if("attack"===e.feature)for(let t=0;t<e.targetCount;t++)Ae.killZombieWithGame(Me.currentSurvivor,Me.currentPlace);else if("barricade"===e.feature)Ae.createBarricade(Me.currentPlace);else if("care"===e.feature)for(let t=0;t<e.targetCount&&(Me.currentSurvivor.wound--,0!==Me.currentSurvivor.wound);t++);})),De((t=>{const n=Ae.getCamp();n.trashList=[...n.trashList,e],n.trashCount=n.trashList.length,Me.campTrashIndex++,Me.selectedItemCardFeature=null,Me.currentPlace=null}))},cancel:e=>{De((e=>{Me.selectedItemCardFeature=null}))},attack:(e,t,n)=>{De((r=>{Me.actionType="attack",Ae.killZombieWithGame(e,t,n)}))},random:(e,t)=>Math.random()-.5,killZombieWithGame:(e,t,n)=>{if(Me.currentSurvivor=e,Me.currentSurvivor.place=t,t.currentZombieCount>0){const r=Ae.getCurrentPlayer($e);void 0!==n&&(r.actionDiceList[n].done=!0);if(t.entranceList.filter((e=>e.zombieCount>0)).sort(Ae.random)[0].zombieCount--,t.currentZombieCount--,$e.deadZombieCount++,$e.deadZombieList.push($e.deadZombieCount),!0===e.noRollDangerDice)return;void 0!==n&&($e.currentSurvivor=e,$e.currentSurvivor.place=t,Ae.rollDangerActionDice(e,!0))}},createBarricade:(e,t)=>{De((n=>{const r=Ae.getCurrentPlayer(Me);void 0!==t&&(r.actionDiceList[t].done=!0);e.entranceList.filter((e=>e.maxZombieCount>e.zombieCount+e.barricadeCount)).sort(Ae.random)[0].barricadeCount++}))},inviteZombie:(e,t,n)=>{n=n||2,De((r=>{const i=Ae.getCurrentPlayer(r);void 0!==t&&(i.actionDiceList[t].done=!0);for(let t=0;t<n;t++){const t=e.entranceList.filter((e=>e.maxZombieCount>e.zombieCount+e.barricadeCount)).sort(Ae.random);if(t.length>0){const e=t[0];e.zombieCount+=1,e.zombieList.push(Me.entranceZombieIndex++)}}}))},showZombie:e=>{let t=0;De((n=>{Me.placeList.forEach((r=>{const i=r.survivorList.length;if(i>0){0===t&&(e.push("라운드가 종료될때 마다 좀비가 타나납니다."),t++);const a=`좀비가 ${r.name}에 ${i}구가 출몰하였습니다.`;e.push(a);for(let t=0;t<i;t++){const t=r.entranceList.sort(Ae.random)[0];t.zombieCount++;let i=t.zombieCount;if(t.maxZombieCount<t.zombieCount+t.barricadeCount)if(t.barricadeCount>0){t.barricadeCount--;const n=`${r.name}에 바리케이트가 제거되었습니다.`;e.push(n)}else if(t.zombieCount--,r.survivorList.length>0){const t=Math.floor(Math.random()*r.survivorList.length);Me.currentSurvivor=r.survivorList[t],Me.currentSurvivor.place=r,Ae.dead(!0,e,r)}i>t.zombieCount&&t.zombieList.push(n.entranceZombieIndex++)}}}))}))},clean:(e,t)=>{De((n=>{const r=Ae.getCamp(Me);for(let t=0;t<e&&(r.trashList.pop(),r.trashCount=r.trashList.length,0!==r.trashCount);t++);void 0!==t&&(Me.playerList[Me.turn%2].actionDiceList[t].done=!0)}))},choiceRiskCard:()=>{De((e=>{Me.successRiskCardList=[],Me.currentRiskCard=Me.riskCardList.pop(),Me.riskCardList=[...Me.riskCardList,Me.currentRiskCard],Ae.initRiskCard(),Me.riskCard=!1,e.rollDice=!0}))},rollActionDice:()=>{De((e=>{e.messageList=[]})),De((e=>{const t=Ae.getCurrentPlayer(Me);t.actionDiceList=[...Array(t.survivorList.length+1).keys()].map((e=>({power:1+Math.floor(6*Math.random()),done:!1}))).sort(((e,t)=>t.power-e.power)),Me.rollDice=!1,Me.canAction=!0,Me.canTurn=!1}))},dead:(e,t,n)=>{let r=0,i=0,a="";De((t=>{Me.deadSurvivorCount++,Me.deadSurvivorList.push(Me.currentSurvivor),Me.placeList.filter((e=>void 0===n||e.name===n.name)).forEach((e=>{e.survivorList=e.survivorList.filter((e=>e!==t.currentSurvivor))})),!0===(e=e&&t.moral>0)&&(r=t.moral,t.moral--,i=t.moral),a=t.currentSurvivor.name,Me.currentSurvivor=null}));const o=`${n.name}에 있던 ${a} 생존자가 죽었습니다.`;if(void 0!==t?(t.push(o),Ae.showMessage(t)):alert(o),!0===e){const e=`사기가 ${r}에서 ${i}로 떨어졌습니다.`;void 0!==t?(t.push(e),Ae.showMessage(t)):alert(e)}},wound:e=>{De((t=>{Me.currentSurvivor.wound++;const n=`${Me.currentSurvivor.name} 부상을 입었습니다.`;if(void 0!==e?(e.push(n),Ae.showMessage(e)):alert(n),Me.currentSurvivor.wound>=3){const t=`${Me.currentSurvivor.name} 부상을 3차례 입었습니다.'`;void 0!==e?(e.push(t),Ae.showMessage(e)):alert(t),Ae.dead(!0)}Me.currentSurvivor=null}))},rollDangerActionDice:(e,t)=>{const n=d(Ae).currentSurvivor;if(null===n||null==e||n.name!==e.name)return;if(d(Ae).currentActionIndex>=0)return void De((e=>{Me.currentActionIndex=-1}));const r=d(Ae).currentPlayer.itemCardList.filter((e=>"safeMove"===e.feature)).length;let i=!0;void 0===t&&r>0&&(i=!confirm(`연료 아이템이 ${r}개가 있으며 하나를 사용하여 위험노출 주사위를 굴리지 않고 이동할까요?`)),i?(alert("위험노출 주사위를 던집니다."),De((e=>{const t=["","","","","","","부상","부상","부상","부상","부상","연쇄물림"].sort(Ae.random).pop();if(""===t)alert("아무런 일이 일어나지 않았습니다.");else if("부상"===t)alert("부상을 당하였습니다."),Ae.wound();else if("연쇄물림"===t){alert("연쇄물림이 발생하였습니다.");const e=n.place;Ae.dead(!0),e.survivorList.forEach((t=>{Me.currentSurvivor=t,Me.currentSurvivor.place=e,Ae.wound()}))}Me.dangerDice=!1}))):De((e=>{let t=!1;Me.playerList.filter((e=>e.index===Me.currentPlayer.index)).forEach((e=>{e.itemCardList=e.itemCardList.filter((e=>!1!==t||"safeMove"!==e.feature||(t=!0,!1)))}))}))},canUseAbility:e=>{const t=e.place,n=t.name,r=e.ability.placeNameList??[],i=Ae.getCurrentPlayer();return!1!==e.canUseAbility&&("killZombie"===e.ability.type?!!r.find((e=>e===n))&&(!0===e.canUseAbility&&t.currentZombieCount>0):"get"===e.ability.type?!!r.find((e=>e===n))&&t.itemCardList.length>0:"plusPower"===e.ability.type?!!i.actionTable&&i.actionDiceList.filter((e=>e.power<=5)).filter((e=>!1===e.done)).length>0:"move"===e.ability.type?d(Ae).placeList.filter((t=>t.name!==e.place.name)).filter((e=>e.maxSurvivorCount>e.survivorList.length)).length>0:"care"===e.ability.type?t.survivorList.filter((e=>e.wound>0)).length>0:"food"===e.ability.type||("plusMoral"===e.ability.type||("rescue"===e.ability.type?t.itemCardList.filter((e=>e.name.startsWith("외부인"))).length>0:"clean"===e.ability.type||("barricade"===e.ability.type?t.maxZombieCount>t.currentZombieCount+t.currentBarricadeCount:void 0))))},getPlaceClassName:e=>e.name===d(Ae).currentPlaceName?"current-place":""},Ze=Ae.updateAll,Ae.init();var Ne=Ae;function Re(e){const t=e-1;return t*t*t+1}function ze(e,{from:t,to:n},r={}){const i=getComputedStyle(e),a="none"===i.transform?"":i.transform,[l,c]=i.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*l/n.width-(n.left+l),u=t.top+t.height*c/n.height-(n.top+c),{delay:d=0,duration:m=(e=>120*Math.sqrt(e)),easing:f=Re}=r;return{delay:d,duration:o(m)?m(Math.sqrt(s*s+u*u)):m,easing:f,css:(e,r)=>{const i=r*s,o=r*u,l=e+r*t.width/n.width,c=e+r*t.height/n.height;return`transform: ${a} translate(${i}px, ${o}px) scale(${l}, ${c});`}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Ee(e){var{fallback:t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["fallback"]);const i=new Map,a=new Map;function l(e,i,a){return(l,c)=>(e.set(c.key,{rect:l.getBoundingClientRect()}),()=>{if(i.has(c.key)){const{rect:e}=i.get(c.key);return i.delete(c.key),function(e,t,i){const{delay:a=0,duration:l=(e=>30*Math.sqrt(e)),easing:c=Re}=n(n({},r),i),s=t.getBoundingClientRect(),u=e.left-s.left,d=e.top-s.top,m=e.width/s.width,f=e.height/s.height,p=Math.sqrt(u*u+d*d),g=getComputedStyle(t),h="none"===g.transform?"":g.transform,v=+g.opacity;return{delay:a,duration:o(l)?l(p):l,easing:c,css:(e,t)=>`\n\t\t\t\topacity: ${e*v};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${h} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*m}, ${e+(1-e)*f});\n\t\t\t`}}(e,l,c)}return e.delete(c.key),t&&t(l,c,a)})}return[l(a,i,!1),l(i,a,!0)]}const Fe=Ee({}),je=Ee({}),Be=Ee({}),_e=Ee({}),Oe=Ee({}),Ue=Ee({});function We(e,t,n){const r=e.slice();return r[21]=t[n],r}function He(e){let t,n,r;function i(){return e[10](e[21])}return{c(){t=$("button"),t.textContent="위기사항처리",Z(t,"class","card-action-dice-button")},m(e,a){x(e,t,a),n||(r=P(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,r()}}}function qe(e){let t,n,r,i,o;function l(){return e[11](e[21])}function c(){return e[12](e[21])}return{c(){t=$("button"),t.textContent="사용",n=S(),r=$("button"),r.textContent="취소",Z(t,"class","none-action-dice-button"),Z(r,"class","none-action-dice-button")},m(e,a){x(e,t,a),x(e,n,a),x(e,r,a),i||(o=[P(t,"click",l),P(r,"click",c)],i=!0)},p(t,n){e=t},d(e){e&&k(t),e&&k(n),e&&k(r),i=!1,a(o)}}}function Ge(t,n){let r,i,a,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,w,P,D,A,N=n[21].name+"",R=n[21].category+"",z=n[21].description+"",B=e,_=1==n[21].canPreventRisk&&He(n),O=1==n[21].canAction&&qe(n);return{key:t,first:null,c(){r=$("table"),i=$("tr"),a=$("td"),a.textContent="이름",o=S(),l=$("td"),c=I(N),s=S(),u=$("td"),u.textContent="유형",d=S(),m=$("td"),f=I(R),p=S(),g=$("tr"),h=$("td"),v=I(z),b=S(),_&&_.c(),y=S(),O&&O.c(),L=S(),Z(a,"class","active"),Z(l,"class","active"),Z(u,"class","active"),Z(h,"colspan","4"),Z(r,"class","game-table box"),T(r,"width","190px"),T(r,"margin","5px"),this.first=r},m(e,t){x(e,r,t),C(r,i),C(i,a),C(i,o),C(i,l),C(l,c),C(i,s),C(i,u),C(i,d),C(i,m),C(m,f),C(r,p),C(r,g),C(g,h),C(h,v),C(h,b),_&&_.m(h,null),C(h,y),O&&O.m(h,null),C(r,L),A=!0},p(e,t){n=e,(!A||4&t)&&N!==(N=n[21].name+"")&&M(c,N),(!A||4&t)&&R!==(R=n[21].category+"")&&M(f,R),(!A||4&t)&&z!==(z=n[21].description+"")&&M(v,z),1==n[21].canPreventRisk?_?_.p(n,t):(_=He(n),_.c(),_.m(h,y)):_&&(_.d(1),_=null),1==n[21].canAction?O?O.p(n,t):(O=qe(n),O.c(),O.m(h,null)):O&&(O.d(1),O=null)},r(){D=r.getBoundingClientRect()},f(){F(r),B(),j(r,D)},a(){B(),B=E(r,D,ze,{})},i(e){A||(G((()=>{P&&P.end(1),w=ce(r,n[4],{key:n[21]}),w.start()})),A=!0)},o(e){w&&w.invalidate(),P=se(r,n[3],{key:n[21]}),A=!1},d(e){e&&k(r),_&&_.d(),O&&O.d(),e&&P&&P.end()}}}function Je(e){let t,n,r,i,a,o,l,c,s,u,d,m,f,p=e[0].name+"",g=e[0].itemCardList.length+"",h=e[0].survivorList.length+"",v=[],b=new Map,y=e[2];const L=e=>e[21];for(let t=0;t<y.length;t+=1){let n=We(e,y,t),r=L(n);b.set(r,v[t]=Ge(r,n))}return{c(){t=$("div"),n=$("div"),r=$("div"),i=I(p),a=S(),o=$("div"),l=I("아이템 카드 : "),c=I(g),s=I(", 생존자 : "),u=I(h),d=S(),m=$("div");for(let e=0;e<v.length;e+=1)v[e].c();T(r,"padding","5px 10px"),T(r,"border-radius","10px"),T(r,"border","1px solid darkgray"),T(r,"text-align","center"),T(o,"margin-top","5px"),T(n,"display","flex"),T(n,"flex-direction","column"),T(n,"padding","10px 5px"),T(m,"height","100vh"),Z(t,"class","flex-column player-card-list-section"),T(t,"background-color",e[1].index===e[0].index?Ne.getCurrentPlayerColor():"white")},m(e,p){x(e,t,p),C(t,n),C(n,r),C(r,i),C(n,a),C(n,o),C(o,l),C(o,c),C(o,s),C(o,u),C(t,d),C(t,m);for(let e=0;e<v.length;e+=1)v[e].m(m,null);f=!0},p(e,[n]){if((!f||1&n)&&p!==(p=e[0].name+"")&&M(i,p),(!f||1&n)&&g!==(g=e[0].itemCardList.length+"")&&M(c,g),(!f||1&n)&&h!==(h=e[0].survivorList.length+"")&&M(u,h),4&n){y=e[2],re();for(let e=0;e<v.length;e+=1)v[e].r();v=pe(v,n,L,1,e,y,b,m,fe,Ge,null,We);for(let e=0;e<v.length;e+=1)v[e].a();ie()}(!f||3&n)&&T(t,"background-color",e[1].index===e[0].index?Ne.getCurrentPlayerColor():"white")},i(e){if(!f){for(let e=0;e<y.length;e+=1)ae(v[e]);f=!0}},o(e){for(let e=0;e<v.length;e+=1)oe(v[e]);f=!1},d(e){e&&k(t);for(let e=0;e<v.length;e+=1)v[e].d()}}}function Ke(e,t,n){let r;m(e,Ne,(e=>n(9,r=e)));const[i,a]=Fe,[o,l]=je,[c,s]=_e;let u,d,f,p,g,h,{playerIndex:v}=t,b=i,C=a;return e.$$set=e=>{"playerIndex"in e&&n(5,v=e.playerIndex)},e.$$.update=()=>{993&e.$$.dirty&&(n(6,d=r.playerList),n(8,h=r.itemCardAnimationType),n(1,f=r.currentPlayer),n(7,g=r.selectedItemCardFeature),n(0,u=d[v]),n(2,p=u.itemCardList),null!=g?(n(3,b=c),n(4,C=s)):"risk"===h?(n(3,b=i),n(4,C=a)):"get"===h&&(n(3,b=o),n(4,C=l)))},[u,f,p,b,C,v,d,g,h,r,e=>Ne.preventRisk(e),e=>Ne.use(e),e=>Ne.cancel(e)]}class Qe extends ye{constructor(e){super(),Ce(this,e,Ke,Je,l,{playerIndex:5})}}function Ve(e,t,n){const r=e.slice();return r[38]=t[n],r[40]=n,r}function Xe(e,t,n){const r=e.slice();return r[41]=t[n],r[43]=n,r}function Ye(e,t,n){const r=e.slice();return r[44]=t[n],r}function et(e,t,n){const r=e.slice();return r[47]=t[n],r[40]=n,r}function tt(e,t,n){const r=e.slice();return r[49]=t[n],r[51]=n,r}function nt(e,t,n){const r=e.slice();return r[52]=t[n],r[54]=n,r}function rt(e,t,n){const r=e.slice();return r[55]=t[n],r[57]=n,r}function it(e,t,n){const r=e.slice();return r[58]=t[n],r}function at(e,t,n){const r=e.slice();return r[61]=t[n],r}function ot(e,t,n){const r=e.slice();return r[64]=t[n],r}function lt(e,t){let n;return{key:e,first:null,c(){n=$("div"),T(n,"width","1px"),T(n,"height","1px"),this.first=n},m(e,t){x(e,n,t)},p(e,t){},d(e){e&&k(n)}}}function ct(e,t){let n,r,i,a;return{key:e,first:null,c(){n=$("div"),n.innerHTML='<div style="width: 5px;height:5px;background-color: lightgreen;border:1px solid greenyellow"></div> \n                                            ',this.first=n},m(e,t){x(e,n,t),a=!0},p(e,n){t=e},i(e){a||(G((()=>{i&&i.end(1),r=ce(n,t[8],{key:t[61]}),r.start()})),a=!0)},o(e){r&&r.invalidate(),i=se(n,t[7],{key:t[61]}),a=!1},d(e){e&&k(n),e&&i&&i.end()}}}function st(e,t){let n,r,i,a;return{key:e,first:null,c(){n=$("div"),n.innerHTML='<div style="width: 5px;height:5px;background-color: lightsalmon;border:1px solid red"></div> \n                                            ',this.first=n},m(e,t){x(e,n,t),a=!0},p(e,n){t=e},i(e){a||(G((()=>{i&&i.end(1),r=ce(n,t[10],{key:t[58]}),r.start()})),a=!0)},o(e){r&&r.invalidate(),i=se(n,t[9],{key:t[58]}),a=!1},d(e){e&&k(n),e&&i&&i.end()}}}function ut(t){let n;return{c(){n=$("div"),T(n,"width","100%"),T(n,"height","100%"),T(n,"background-color","lightgray")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function dt(e){let t,n,r,i;return{c(){t=$("div"),T(t,"width","100%"),T(t,"height","100%"),T(t,"background-color","darkred")},m(e,n){x(e,t,n),i=!0},p(t,n){e=t},i(a){i||(G((()=>{r&&r.end(1),n=ce(t,e[10],{key:e[0].entranceList[e[54]].zombieList[e[57]]}),n.start()})),i=!0)},o(a){n&&n.invalidate(),r=se(t,e[9],{key:e[0].entranceList[e[54]].zombieList[e[57]]}),i=!1},d(e){e&&k(t),e&&r&&r.end()}}}function mt(e){let t,n,r,i,a;const o=[dt,ut],l=[];function c(e,t){return e[57]<e[0].entranceList[e[54]].zombieCount?0:e[0].entranceList[e[54]].maxZombieCount-e[57]<=e[0].entranceList[e[54]].barricadeCount?1:-1}return~(n=c(e))&&(r=l[n]=o[n](e)),{c(){t=$("td"),r&&r.c(),i=S(),Z(t,"class","zombie-position")},m(e,r){x(e,t,r),~n&&l[n].m(t,null),C(t,i),a=!0},p(e,a){let s=n;n=c(e),n===s?~n&&l[n].p(e,a):(r&&(re(),oe(l[s],1,1,(()=>{l[s]=null})),ie()),~n?(r=l[n],r?r.p(e,a):(r=l[n]=o[n](e),r.c()),ae(r,1),r.m(t,i)):r=null)},i(e){a||(ae(r),a=!0)},o(e){oe(r),a=!1},d(e){e&&k(t),~n&&l[n].d()}}}function ft(e){let t,n,r,i,a=Array(e[0].entranceList[e[54]].maxZombieCount),o=[];for(let t=0;t<a.length;t+=1)o[t]=mt(rt(e,a,t));const l=e=>oe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=$("table"),n=$("tr");for(let e=0;e<o.length;e+=1)o[e].c();r=S(),Z(t,"class","game-table zombie-line")},m(e,a){x(e,t,a),C(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);C(t,r),i=!0},p(e,t){if(1&t[0]){let r;for(a=Array(e[0].entranceList[e[54]].maxZombieCount),r=0;r<a.length;r+=1){const i=rt(e,a,r);o[r]?(o[r].p(i,t),ae(o[r],1)):(o[r]=mt(i),o[r].c(),ae(o[r],1),o[r].m(n,null))}for(re(),r=a.length;r<o.length;r+=1)l(r);ie()}},i(e){if(!i){for(let e=0;e<a.length;e+=1)ae(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)oe(o[e]);i=!1},d(e){e&&k(t),w(o,e)}}}function pt(e){let t,n,r,i,a,o,l,c,u,d,m,f,p,g,h,v,b,y,L,P,D,A,N,R,z,E,F,j,B,_,O,U,W,H,q,G,J,K,Q,V,X,Y,ee,te,ne,le,ce,se,ue,de,me,ge=e[38].playerName+"",he=e[38].name+"",ve=e[38].power+"",be=e[38].attack+"",Ce=e[38].search+"",ye=e[38].wound+"",Le=[],xe=new Map,ke=e[38].job+"",we=e[38].ability.name+"",$e=e[38].actionTable.length>0&&1==Ne.isCurrentPlayerOfSurvivor(e[38]),Ie=e[38].woundList,Se=[];for(let t=0;t<Ie.length;t+=1)Se[t]=gt(tt(e,Ie,t));let Pe=e[38].foodList;const Ze=e=>e[47];for(let t=0;t<Pe.length;t+=1){let n=et(e,Pe,t),r=Ze(n);xe.set(r,Le[t]=ht(r,n))}let Me=0==e[38].canUseAbility&&vt(),Te=$e&&bt(e),De=e[38].actionTable.length>0&&yt(e);return{c(){t=$("table"),n=$("tr"),r=$("td"),i=$("img"),o=S(),l=$("td"),c=$("div"),u=$("div"),d=$("span"),m=I(ge),f=S(),p=$("div"),g=I(he),h=S(),v=$("table"),b=$("tr"),y=$("td"),y.textContent="파워",L=S(),P=$("td"),D=I(ve),A=S(),N=$("td"),N.textContent="공격",R=S(),z=$("td"),E=I(be),F=S(),j=$("td"),j.textContent="검색",B=S(),_=$("td"),O=I(Ce),U=S(),W=$("td"),W.textContent="부상",H=S(),q=$("td"),G=$("div"),J=$("div"),K=I(ye),Q=S();for(let e=0;e<Se.length;e+=1)Se[e].c();V=S(),X=$("div");for(let e=0;e<Le.length;e+=1)Le[e].c();Y=S(),ee=$("tr"),te=$("td"),ne=I(ke),le=I(" : "),ce=I(we),se=S(),Me&&Me.c(),ue=S(),Te&&Te.c(),de=S(),De&&De.c(),s(i.src,a="image/"+e[38].index+".png")||Z(i,"src",a),T(i,"width","60px"),T(i,"height","60px"),Z(i,"alt",""),Z(r,"rowspan","2"),T(r,"width","40px"),Z(r,"valign","top"),T(d,"padding","2px 10px"),T(d,"border-radius","10px"),T(d,"border","1px solid darkgray"),T(p,"display","inline-block"),T(p,"margin-left","4px"),T(u,"display","flex"),T(u,"align-items","center"),T(G,"display","flex"),T(G,"align-items","center"),T(G,"justify-content","center"),Z(v,"class","game-table"),T(v,"margin-left","5px"),T(X,"display","flex"),T(c,"display","flex"),T(l,"background-color",Ne.getPlayerColorForSurvivor(e[38])),Z(t,"class","game-table"),T(t,"width","100%")},m(e,a){x(e,t,a),C(t,n),C(n,r),C(r,i),C(n,o),C(n,l),C(l,c),C(c,u),C(u,d),C(d,m),C(u,f),C(u,p),C(p,g),C(c,h),C(c,v),C(v,b),C(b,y),C(b,L),C(b,P),C(P,D),C(b,A),C(b,N),C(b,R),C(b,z),C(z,E),C(b,F),C(b,j),C(b,B),C(b,_),C(_,O),C(b,U),C(b,W),C(b,H),C(b,q),C(q,G),C(G,J),C(J,K),C(G,Q);for(let e=0;e<Se.length;e+=1)Se[e].m(G,null);C(c,V),C(c,X);for(let e=0;e<Le.length;e+=1)Le[e].m(X,null);C(t,Y),C(t,ee),C(ee,te),C(te,ne),C(te,le),C(te,ce),C(te,se),Me&&Me.m(te,null),C(t,ue),Te&&Te.m(t,null),C(t,de),De&&De.m(t,null),me=!0},p(e,n){if((!me||1&n[0]&&!s(i.src,a="image/"+e[38].index+".png"))&&Z(i,"src",a),(!me||1&n[0])&&ge!==(ge=e[38].playerName+"")&&M(m,ge),(!me||1&n[0])&&he!==(he=e[38].name+"")&&M(g,he),(!me||1&n[0])&&ve!==(ve=e[38].power+"")&&M(D,ve),(!me||1&n[0])&&be!==(be=e[38].attack+"")&&M(E,be),(!me||1&n[0])&&Ce!==(Ce=e[38].search+"")&&M(O,Ce),(!me||1&n[0])&&ye!==(ye=e[38].wound+"")&&M(K,ye),1&n[0]){const t=Ie.length;let n;for(Ie=e[38].woundList,n=t;n<Ie.length;n+=1)tt(e,Ie,n),Se[n]||(Se[n]=gt(),Se[n].c(),Se[n].m(G,null));for(n=Ie.length;n<t;n+=1)Se[n].d(1);Se.length=Ie.length}if(1&n[0]){Pe=e[38].foodList,re();for(let e=0;e<Le.length;e+=1)Le[e].r();Le=pe(Le,n,Ze,1,e,Pe,xe,X,fe,ht,null,et);for(let e=0;e<Le.length;e+=1)Le[e].a();ie()}(!me||1&n[0])&&T(l,"background-color",Ne.getPlayerColorForSurvivor(e[38])),(!me||1&n[0])&&ke!==(ke=e[38].job+"")&&M(ne,ke),(!me||1&n[0])&&we!==(we=e[38].ability.name+"")&&M(ce,we),0==e[38].canUseAbility?Me||(Me=vt(),Me.c(),Me.m(te,null)):Me&&(Me.d(1),Me=null),1&n[0]&&($e=e[38].actionTable.length>0&&1==Ne.isCurrentPlayerOfSurvivor(e[38])),$e?Te?Te.p(e,n):(Te=bt(e),Te.c(),Te.m(t,de)):Te&&(Te.d(1),Te=null),e[38].actionTable.length>0?De?De.p(e,n):(De=yt(e),De.c(),De.m(t,null)):De&&(De.d(1),De=null)},i(e){if(!me){for(let e=0;e<Pe.length;e+=1)ae(Le[e]);me=!0}},o(e){for(let e=0;e<Le.length;e+=1)oe(Le[e]);me=!1},d(e){e&&k(t),w(Se,e);for(let e=0;e<Le.length;e+=1)Le[e].d();Me&&Me.d(),Te&&Te.d(),De&&De.d()}}}function gt(e){let t;return{c(){t=$("div"),T(t,"width","10px"),T(t,"height","10px"),T(t,"border-radius","10px"),T(t,"background-color","lightsalmon"),T(t,"border","1px solid red")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function ht(t,n){let r,i,a,o,l,c=e;return{key:t,first:null,c(){r=$("div"),r.innerHTML='<div style="margin-top: 3px;width: 10px;height:10px;background-color: lightgreen;border:1px solid greenyellow;"></div> \n                                                ',this.first=r},m(e,t){x(e,r,t),l=!0},p(e,t){n=e},r(){o=r.getBoundingClientRect()},f(){F(r),c(),j(r,o)},a(){c(),c=E(r,o,ze,{})},i(e){l||(G((()=>{a&&a.end(1),i=ce(r,n[6],{key:n[47]}),i.start()})),l=!0)},o(e){i&&i.invalidate(),a=se(r,n[5],{key:n[47]}),l=!1},d(e){e&&k(r),e&&a&&a.end()}}}function vt(e){let t;return{c(){t=$("span"),t.textContent="능력을 사용하였습니다.",T(t,"background-color","lightgreen")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function bt(e){let t,n,r,i=e[38].targetPlaceList,a=[];for(let t=0;t<i.length;t+=1)a[t]=Ct(Ye(e,i,t));return{c(){t=$("tr"),n=$("td");for(let e=0;e<a.length;e+=1)a[e].c();r=I("\r\n                                        로 이동"),Z(n,"colspan","2")},m(e,i){x(e,t,i),C(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);C(n,r)},p(e,t){if(1&t[0]){let o;for(i=e[38].targetPlaceList,o=0;o<i.length;o+=1){const l=Ye(e,i,o);a[o]?a[o].p(l,t):(a[o]=Ct(l),a[o].c(),a[o].m(n,r))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(e){e&&k(t),w(a,e)}}}function Ct(e){let t,n,r,i,a,l=e[44].name+"";return{c(){t=$("button"),n=I(l),Z(t,"class","none-action-dice-button"),t.disabled=r=e[44].disabled,T(t,"margin-right","5px")},m(r,l){x(r,t,l),C(t,n),i||(a=P(t,"click",(function(){o(Ne.move(e[38],e[44].name))&&Ne.move(e[38],e[44].name).apply(this,arguments)})),i=!0)},p(i,a){e=i,1&a[0]&&l!==(l=e[44].name+"")&&M(n,l),1&a[0]&&r!==(r=e[44].disabled)&&(t.disabled=r)},d(e){e&&k(t),i=!1,a()}}}function yt(e){let t,n,r,i,a=e[38].actionTable,o=[];for(let t=0;t<a.length;t+=1)o[t]=Lt(Xe(e,a,t));let l=e[38].actionItemCard.enabled&&xt(e);return{c(){t=$("tr"),n=$("td"),r=$("table");for(let e=0;e<o.length;e+=1)o[e].c();i=S(),l&&l.c(),Z(r,"class","game-table"),T(r,"width","100%"),Z(n,"colspan","2")},m(e,a){x(e,t,a),C(t,n),C(n,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null);C(r,i),l&&l.m(r,null)},p(e,t){if(1&t[0]){let n;for(a=e[38].actionTable,n=0;n<a.length;n+=1){const l=Xe(e,a,n);o[n]?o[n].p(l,t):(o[n]=Lt(l),o[n].c(),o[n].m(r,i))}for(;n<o.length;n+=1)o[n].d(1);o.length=a.length}e[38].actionItemCard.enabled?l?l.p(e,t):(l=xt(e),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},d(e){e&&k(t),w(o,e),l&&l.d()}}}function Lt(e){let t,n,r,i,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,w,D,A,N,R,z,E,F,j,B,_,O,U,W,H,q,G,J,K,Q,V,X,Y,ee,te,ne,re=e[41].dice.power+"";function ie(){return e[16](e[38],e[43])}function ae(){return e[17](e[38],e[43])}function oe(){return e[18](e[43])}function le(){return e[19](e[38],e[43])}function ce(){return e[20](e[38],e[43])}function se(){return e[21](e[38],e[43])}function ue(){return e[22](e[43])}function de(){return e[23](e[43])}function me(){return e[24](e[43])}return{c(){t=$("tr"),n=$("td"),r=$("span"),i=I(re),o=S(),l=$("td"),c=$("button"),s=I("식사+1"),d=S(),m=$("button"),f=I("아이템+1"),g=S(),h=$("td"),v=$("button"),b=I("공격"),L=S(),w=$("td"),D=$("button"),A=I("검색"),R=S(),z=$("td"),E=$("button"),F=I("능력"),B=S(),_=$("td"),O=$("button"),U=I("바리케이트"),H=S(),q=$("td"),G=$("button"),J=I("유인"),Q=S(),V=$("td"),X=$("button"),Y=I("청소"),T(r,"cursor","pointer"),Z(r,"alt","행동주사위 포기"),T(n,"width","20px"),T(n,"text-align","center"),T(n,"background-color",e[41].dice.done?"lightgray":"lightgreen"),Z(c,"class","food-action-dice-button"),c.disabled=u=!e[41].food,Z(m,"class","card-action-dice-button"),m.disabled=p=!e[41].itemFood,Z(v,"class","action-dice-button"),v.disabled=y=!e[41].attack,Z(D,"class","action-dice-button"),D.disabled=N=!e[41].search,Z(E,"class","action-dice-button"),E.disabled=j=!e[41].ability,Z(O,"class","action-dice-button"),O.disabled=W=!e[41].barricade,Z(G,"class","action-dice-button"),G.disabled=K=!e[41].invite,Z(X,"class","action-dice-button"),X.disabled=ee=!e[41].clean},m(e,a){var u;x(e,t,a),C(t,n),C(n,r),C(r,i),C(t,o),C(t,l),C(l,c),C(c,s),C(l,d),C(l,m),C(m,f),C(t,g),C(t,h),C(h,v),C(v,b),C(t,L),C(t,w),C(w,D),C(D,A),C(t,R),C(t,z),C(z,E),C(E,F),C(t,B),C(t,_),C(_,O),C(O,U),C(t,H),C(t,q),C(q,G),C(G,J),C(t,Q),C(t,V),C(V,X),C(X,Y),te||(ne=[P(r,"click",(u=ie,function(e){return e.preventDefault(),u.call(this,e)})),P(c,"click",ae),P(m,"click",oe),P(v,"click",le),P(D,"click",ce),P(E,"click",se),P(O,"click",ue),P(G,"click",de),P(X,"click",me)],te=!0)},p(t,r){e=t,1&r[0]&&re!==(re=e[41].dice.power+"")&&M(i,re),1&r[0]&&T(n,"background-color",e[41].dice.done?"lightgray":"lightgreen"),1&r[0]&&u!==(u=!e[41].food)&&(c.disabled=u),1&r[0]&&p!==(p=!e[41].itemFood)&&(m.disabled=p),1&r[0]&&y!==(y=!e[41].attack)&&(v.disabled=y),1&r[0]&&N!==(N=!e[41].search)&&(D.disabled=N),1&r[0]&&j!==(j=!e[41].ability)&&(E.disabled=j),1&r[0]&&W!==(W=!e[41].barricade)&&(O.disabled=W),1&r[0]&&K!==(K=!e[41].invite)&&(G.disabled=K),1&r[0]&&ee!==(ee=!e[41].clean)&&(X.disabled=ee)},d(e){e&&k(t),te=!1,a(ne)}}}function xt(e){let t,n,r,i,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,w,M,T,D,A,N,R,z,E,F,j,B,_,O,U,W,H;function q(){return e[25](e[38])}function G(){return e[26](e[38])}function J(){return e[27](e[38])}function K(){return e[28](e[38])}function Q(){return e[29](e[38])}function V(){return e[30](e[38])}return{c(){t=$("tr"),n=$("td"),r=S(),i=$("td"),o=$("button"),l=I("식량공급"),s=S(),u=$("td"),d=$("button"),m=I("공격"),p=S(),g=$("td"),h=$("button"),v=I("검색"),y=S(),L=$("td"),w=$("button"),M=I("치료"),D=S(),A=$("td"),N=$("button"),R=I("바리케이트"),E=S(),F=$("td"),j=S(),B=$("td"),_=$("button"),O=I("청소"),Z(o,"class","card-action-dice-button"),o.disabled=c=!e[38].actionItemCard.food,Z(d,"class","card-action-dice-button"),d.disabled=f=!e[38].actionItemCard.attack,Z(h,"class","card-action-dice-button"),h.disabled=b=!e[38].actionItemCard.search,Z(w,"class","card-action-dice-button"),w.disabled=T=!e[38].actionItemCard.care,Z(N,"class","card-action-dice-button"),N.disabled=z=!e[38].actionItemCard.barricade,Z(_,"class","card-action-dice-button"),_.disabled=U=!e[38].actionItemCard.clean},m(e,a){x(e,t,a),C(t,n),C(t,r),C(t,i),C(i,o),C(o,l),C(t,s),C(t,u),C(u,d),C(d,m),C(t,p),C(t,g),C(g,h),C(h,v),C(t,y),C(t,L),C(L,w),C(w,M),C(t,D),C(t,A),C(A,N),C(N,R),C(t,E),C(t,F),C(t,j),C(t,B),C(B,_),C(_,O),W||(H=[P(o,"click",q),P(d,"click",G),P(h,"click",J),P(w,"click",K),P(N,"click",Q),P(_,"click",V)],W=!0)},p(t,n){e=t,1&n[0]&&c!==(c=!e[38].actionItemCard.food)&&(o.disabled=c),1&n[0]&&f!==(f=!e[38].actionItemCard.attack)&&(d.disabled=f),1&n[0]&&b!==(b=!e[38].actionItemCard.search)&&(h.disabled=b),1&n[0]&&T!==(T=!e[38].actionItemCard.care)&&(w.disabled=T),1&n[0]&&z!==(z=!e[38].actionItemCard.barricade)&&(N.disabled=z),1&n[0]&&U!==(U=!e[38].actionItemCard.clean)&&(_.disabled=U)},d(e){e&&k(t),W=!1,a(H)}}}function kt(e,t){let n,r,i,a,o,l,c,s,u=t[38]&&pt(t);function d(){return t[31](t[38])}return{key:e,first:null,c(){n=$("div"),r=$("div"),u&&u.c(),i=S(),Z(r,"class","survivor-position"),T(n,"border","1px solid lightgreen"),this.first=n},m(e,t){x(e,n,t),C(n,r),u&&u.m(r,null),C(n,i),l=!0,c||(s=P(n,"introend",d),c=!0)},p(e,n){(t=e)[38]?u?(u.p(t,n),1&n[0]&&ae(u,1)):(u=pt(t),u.c(),ae(u,1),u.m(r,null)):u&&(re(),oe(u,1,1,(()=>{u=null})),ie())},i(e){l||(ae(u),G((()=>{o&&o.end(1),a=ce(n,t[8],{key:t[38]}),a.start()})),l=!0)},o(e){oe(u),a&&a.invalidate(),o=se(n,t[7],{key:t[38]}),l=!1},d(e){e&&k(n),u&&u.d(),e&&o&&o.end(),c=!1,s()}}}function wt(e){let t,n,r,i,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,D,A,N,R,z,E,F,j,B,_,O,U,W,H,q,G,J,K,Q,V,X,Y,ee,te,ne,le,ce,se,me,fe,ge,he,ve,be,Ce,ye,Le,xe,ke,we,$e,Ie,Se,Pe,Ze,Me,Te,De,Ae,Ne,Re,ze,Ee,Fe,je,Be=[],_e=new Map,Oe=e[1].turn+1+"",Ue=e[1].round+"",We=e[1].moral+"",He=e[1].survivorCount+"",qe=e[1].deadSurvivorCount+"",Ge=[],Je=new Map,Ke=e[1].zombieCount+"",Qe=e[1].deadZombieCount+"",Xe=[],Ye=new Map,et=e[0].name+"",tt=[],rt=new Map,ut=e[2];const dt=e=>e[64];for(let t=0;t<ut.length;t+=1){let n=ot(e,ut,t),r=dt(n);_e.set(r,Be[t]=lt(r))}let mt=e[3];const pt=e=>e[61];for(let t=0;t<mt.length;t+=1){let n=at(e,mt,t),r=pt(n);Je.set(r,Ge[t]=ct(r,n))}let gt=e[4];const ht=e=>e[58];for(let t=0;t<gt.length;t+=1){let n=it(e,gt,t),r=ht(n);Ye.set(r,Xe[t]=st(r,n))}let vt=e[0].entranceList,bt=[];for(let t=0;t<vt.length;t+=1)bt[t]=ft(nt(e,vt,t));const Ct=e=>oe(bt[e],1,1,(()=>{bt[e]=null}));let yt=e[0].survivorLocationList;const Lt=e=>e[38]??e[40];for(let t=0;t<yt.length;t+=1){let n=Ve(e,yt,t),r=Lt(n);rt.set(r,tt[t]=kt(r,n))}return{c(){t=$("div"),n=$("div");for(let e=0;e<Be.length;e+=1)Be[e].c();r=S(),i=$("div"),o=$("div"),l=$("div"),c=$("table"),s=$("tr"),u=$("td"),u.textContent="횟수",d=S(),m=$("td"),f=I(Oe),p=S(),g=$("td"),g.textContent="라운드",h=S(),v=$("td"),b=I(Ue),y=S(),L=$("td"),L.textContent="사기",D=S(),A=$("td"),N=I(We),R=S(),z=$("td"),z.textContent="생존자",E=S(),F=$("td"),j=I(He),B=S(),_=$("td"),_.textContent="죽은 생존자",O=S(),U=$("td"),W=$("div"),H=$("div"),q=I(qe),G=S(),J=$("div");for(let e=0;e<Ge.length;e+=1)Ge[e].c();K=S(),Q=$("td"),Q.textContent="좀비",V=S(),X=$("td"),Y=I(Ke),ee=S(),te=$("td"),te.textContent="죽은 좀비",ne=S(),le=$("td"),ce=$("div"),se=$("div"),me=I(Qe),fe=S(),ge=$("div");for(let e=0;e<Xe.length;e+=1)Xe[e].c();he=S(),ve=$("div"),be=$("button"),Ce=I("위기상황카드"),Le=S(),xe=$("button"),ke=I("행동 주사위"),$e=S(),Ie=$("button"),Se=I("완료"),Ze=S(),Me=$("div"),Te=$("div"),De=I(et),Ae=S(),Ne=$("div");for(let e=0;e<bt.length;e+=1)bt[e].c();Re=S(),ze=$("div");for(let e=0;e<tt.length;e+=1)tt[e].c();T(n,"display","flex"),Z(u,"class","active"),Z(m,"class","game-info"),Z(g,"class","active"),Z(v,"class","game-info"),Z(L,"class","active"),Z(A,"class","game-info"),Z(z,"class","active"),Z(F,"class","game-info"),Z(_,"class","active"),T(J,"display","flex"),T(J,"width","50px"),T(J,"flex-wrap","wrap"),T(J,"margin-left","5px"),T(W,"display","flex"),Z(U,"class","game-info"),Z(Q,"class","active"),Z(X,"class","game-info"),Z(te,"class","active"),T(ge,"display","flex"),T(ge,"width","50px"),T(ge,"flex-wrap","wrap"),T(ge,"margin-left","5px"),T(ce,"display","flex"),Z(le,"class","game-info"),Z(c,"class","game-table"),Z(be,"class","game-button dice action-button"),be.disabled=ye=!e[1].riskCard,T(be,"height","30px"),Z(xe,"class","game-button dice action-button"),xe.disabled=we=!e[1].rollDice,T(xe,"height","30px"),Z(Ie,"class","game-button action-button"),Ie.disabled=Pe=!e[1].canTurn,T(Ie,"height","30px"),T(ve,"margin-left","20px"),T(l,"display","flex"),Z(Te,"class","place-name"),T(Me,"display","table"),T(Me,"margin-left","10px"),Z(Ne,"class","flex"),T(Ne,"justify-content","space-evenly"),T(Ne,"align-content","flex-start"),T(Ne,"margin","2px"),T(o,"display","flex"),Z(ze,"class","flex survivor-container"),Z(t,"class","place place-part")},m(a,k){x(a,t,k),C(t,n);for(let e=0;e<Be.length;e+=1)Be[e].m(n,null);C(t,r),C(t,i),C(i,o),C(o,l),C(l,c),C(c,s),C(s,u),C(s,d),C(s,m),C(m,f),C(s,p),C(s,g),C(s,h),C(s,v),C(v,b),C(s,y),C(s,L),C(s,D),C(s,A),C(A,N),C(s,R),C(s,z),C(s,E),C(s,F),C(F,j),C(s,B),C(s,_),C(s,O),C(s,U),C(U,W),C(W,H),C(H,q),C(W,G),C(W,J);for(let e=0;e<Ge.length;e+=1)Ge[e].m(J,null);C(s,K),C(s,Q),C(s,V),C(s,X),C(X,Y),C(s,ee),C(s,te),C(s,ne),C(s,le),C(le,ce),C(ce,se),C(se,me),C(ce,fe),C(ce,ge);for(let e=0;e<Xe.length;e+=1)Xe[e].m(ge,null);C(l,he),C(l,ve),C(ve,be),C(be,Ce),C(ve,Le),C(ve,xe),C(xe,ke),C(ve,$e),C(ve,Ie),C(Ie,Se),C(o,Ze),C(o,Me),C(Me,Te),C(Te,De),C(o,Ae),C(o,Ne);for(let e=0;e<bt.length;e+=1)bt[e].m(Ne,null);C(t,Re),C(t,ze);for(let e=0;e<tt.length;e+=1)tt[e].m(ze,null);Ee=!0,Fe||(je=[P(be,"click",e[13]),P(xe,"click",e[14]),P(Ie,"click",e[15])],Fe=!0)},p(e,t){if(4&t[0]&&(ut=e[2],Be=pe(Be,t,dt,0,e,ut,_e,n,ue,lt,null,ot)),(!Ee||2&t[0])&&Oe!==(Oe=e[1].turn+1+"")&&M(f,Oe),(!Ee||2&t[0])&&Ue!==(Ue=e[1].round+"")&&M(b,Ue),(!Ee||2&t[0])&&We!==(We=e[1].moral+"")&&M(N,We),(!Ee||2&t[0])&&He!==(He=e[1].survivorCount+"")&&M(j,He),(!Ee||2&t[0])&&qe!==(qe=e[1].deadSurvivorCount+"")&&M(q,qe),8&t[0]&&(mt=e[3],re(),Ge=pe(Ge,t,pt,1,e,mt,Je,J,de,ct,null,at),ie()),(!Ee||2&t[0])&&Ke!==(Ke=e[1].zombieCount+"")&&M(Y,Ke),(!Ee||2&t[0])&&Qe!==(Qe=e[1].deadZombieCount+"")&&M(me,Qe),16&t[0]&&(gt=e[4],re(),Xe=pe(Xe,t,ht,1,e,gt,Ye,ge,de,st,null,it),ie()),(!Ee||2&t[0]&&ye!==(ye=!e[1].riskCard))&&(be.disabled=ye),(!Ee||2&t[0]&&we!==(we=!e[1].rollDice))&&(xe.disabled=we),(!Ee||2&t[0]&&Pe!==(Pe=!e[1].canTurn))&&(Ie.disabled=Pe),(!Ee||1&t[0])&&et!==(et=e[0].name+"")&&M(De,et),1&t[0]){let n;for(vt=e[0].entranceList,n=0;n<vt.length;n+=1){const r=nt(e,vt,n);bt[n]?(bt[n].p(r,t),ae(bt[n],1)):(bt[n]=ft(r),bt[n].c(),ae(bt[n],1),bt[n].m(Ne,null))}for(re(),n=vt.length;n<bt.length;n+=1)Ct(n);ie()}1&t[0]&&(yt=e[0].survivorLocationList,re(),tt=pe(tt,t,Lt,1,e,yt,rt,ze,de,kt,null,Ve),ie())},i(e){if(!Ee){for(let e=0;e<mt.length;e+=1)ae(Ge[e]);for(let e=0;e<gt.length;e+=1)ae(Xe[e]);for(let e=0;e<vt.length;e+=1)ae(bt[e]);for(let e=0;e<yt.length;e+=1)ae(tt[e]);Ee=!0}},o(e){for(let e=0;e<Ge.length;e+=1)oe(Ge[e]);for(let e=0;e<Xe.length;e+=1)oe(Xe[e]);bt=bt.filter(Boolean);for(let e=0;e<bt.length;e+=1)oe(bt[e]);for(let e=0;e<tt.length;e+=1)oe(tt[e]);Ee=!1},d(e){e&&k(t);for(let e=0;e<Be.length;e+=1)Be[e].d();for(let e=0;e<Ge.length;e+=1)Ge[e].d();for(let e=0;e<Xe.length;e+=1)Xe[e].d();w(bt,e);for(let e=0;e<tt.length;e+=1)tt[e].d();Fe=!1,a(je)}}}function $t(e,t,n){let r;m(e,Ne,(e=>n(1,r=e)));const[i,a]=Be,[o,l]=Oe,[c,s]=Ue;let u,d,f,p,g,{placeIndex:h}=t;return e.$$set=e=>{"placeIndex"in e&&n(11,h=e.placeIndex)},e.$$.update=()=>{6147&e.$$.dirty[0]&&(Ne.getCurrentPlayer(),n(12,u=r.placeList),n(2,f=r.itemCardList),n(0,d=u[h]),n(3,p=r.deadSurvivorList),n(4,g=r.deadZombieList))},[d,r,f,p,g,i,a,o,l,c,s,h,u,()=>Ne.choiceRiskCard(),()=>Ne.rollActionDice(),()=>Ne.turn(),(e,t)=>Ne.done(e,t),(e,t)=>Ne.plusPower(e,d,t),e=>Ne.selectItemCard(d,e),(e,t)=>Ne.attack(e,d,t),(e,t)=>Ne.search(null,e,d,t),(e,t)=>Ne.useAbility(e,d,t),e=>Ne.createBarricade(d,e),e=>Ne.inviteZombie(d,e),e=>Ne.clean(3,e),e=>Ne.selectItemCardWithoutDice(d,e,"food"),e=>Ne.selectItemCardWithoutDice(d,e,"attack"),e=>Ne.selectItemCardWithoutDice(d,e,"search"),e=>Ne.selectItemCardWithoutDice(d,e,"care"),e=>Ne.selectItemCardWithoutDice(d,e,"barricade"),e=>Ne.selectItemCardWithoutDice(d,e,"clean"),e=>Ne.rollDangerActionDice(e)]}class It extends ye{constructor(e){super(),Ce(this,e,$t,wt,l,{placeIndex:11},null,[-1,-1,-1])}}function St(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Pt(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function Zt(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Mt(e,t,n){const r=e.slice();return r[27]=t[n],r}function Tt(e,t,n){const r=e.slice();return r[32]=t[n],r}function Dt(e,t,n){const r=e.slice();return r[35]=t[n],r[25]=n,r}function At(e,t,n){const r=e.slice();return r[27]=t[n],r}function Nt(e,t,n){const r=e.slice();return r[30]=t[n],r[25]=n,r}function Rt(e,t,n){const r=e.slice();return r[32]=t[n],r}function zt(e,t,n){const r=e.slice();return r[35]=t[n],r[25]=n,r}function Et(e,t,n){const r=e.slice();return r[42]=t[n],r}function Ft(e){let t,n,r,i,a,o,l,c,s,u,d=e[2].name+"",m=e[3].length+"",f=[],p=new Map,g=e[3];const h=e=>e[42];for(let t=0;t<g.length;t+=1){let n=Et(e,g,t),r=h(n);p.set(r,f[t]=jt(r,n))}return{c(){t=$("div"),n=I("위기상황 : "),r=$("span"),i=I(d),a=I("\r\n                지금까지 모은 아이템수 : "),o=$("span"),l=I(m),c=S(),s=$("div");for(let e=0;e<f.length;e+=1)f[e].c();Z(r,"class","game-title"),Z(o,"class","game-title"),T(s,"display","flex"),T(s,"margin-left","10px"),T(s,"align-items","center")},m(e,d){x(e,t,d),C(t,n),C(t,r),C(r,i),C(t,a),C(t,o),C(o,l),x(e,c,d),x(e,s,d);for(let e=0;e<f.length;e+=1)f[e].m(s,null);u=!0},p(e,t){if((!u||4&t[0])&&d!==(d=e[2].name+"")&&M(i,d),(!u||8&t[0])&&m!==(m=e[3].length+"")&&M(l,m),8&t[0]){g=e[3],re();for(let e=0;e<f.length;e+=1)f[e].r();f=pe(f,t,h,1,e,g,p,s,fe,jt,null,Et);for(let e=0;e<f.length;e+=1)f[e].a();ie()}},i(e){if(!u){for(let e=0;e<g.length;e+=1)ae(f[e]);u=!0}},o(e){for(let e=0;e<f.length;e+=1)oe(f[e]);u=!1},d(e){e&&k(t),e&&k(c),e&&k(s);for(let e=0;e<f.length;e+=1)f[e].d()}}}function jt(t,n){let r,i,a,o,l,c=e;return{key:t,first:null,c(){r=$("div"),T(r,"width","25px"),T(r,"height","25px"),T(r,"border-radius","25px"),T(r,"background-color","lightgreen"),T(r,"border","1px solid greenyellow"),T(r,"margin-right","5px"),this.first=r},m(e,t){x(e,r,t),l=!0},p(e,t){n=e},r(){o=r.getBoundingClientRect()},f(){F(r),c(),j(r,o)},a(){c(),c=E(r,o,ze,{})},i(e){l||(G((()=>{a&&a.end(1),i=ce(r,n[8],{key:n[42]}),i.start()})),l=!0)},o(e){i&&i.invalidate(),a=se(r,n[7],{key:n[42]}),l=!1},d(e){e&&k(r),e&&a&&a.end()}}}function Bt(e){let t,n,r,i,a,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,P,D,A,N,R,z,E,F,j,B,_,O,U,W,H,q,G,J,K,Q,V,X,Y,ee,te,ne=e[20].name+"",le=e[20].index+1+"",ce=e[20].currentZombieCount+"",se=e[20].maxZombieCount+"",ue=[],de=new Map,ge=e[20].currentBarricadeCount+"",he=e[20].maxZombieCount+"",ve=e[20].survivorList.length+"",be=e[20].maxSurvivorCount+"",Ce=e[20].itemCardList.length+"",ye=[],Le=new Map,xe=e[1],ke=[];for(let t=0;t<xe.length;t+=1)ke[t]=Ot(Dt(e,xe,t));let we=e[20].currentZombieList;const $e=e=>e[32];for(let t=0;t<we.length;t+=1){let n=Tt(e,we,t),r=$e(n);de.set(r,ue[t]=Ut(r))}let Ie=e[20].itemCardList;const Se=e=>e[27];for(let t=0;t<Ie.length;t+=1){let n=Mt(e,Ie,t),r=Se(n);Le.set(r,ye[t]=Wt(r,n))}return{c(){t=$("table"),n=$("tr"),r=$("td"),i=I(ne),a=I(" ("),o=I(le),l=I(")\r\n                                ");for(let e=0;e<ke.length;e+=1)ke[e].c();c=S(),s=$("tr"),u=$("td"),u.textContent="좀비수",d=S(),m=$("td"),f=I(ce),p=I("/"),g=I(se),h=S(),v=$("div"),b=$("div");for(let e=0;e<ue.length;e+=1)ue[e].c();y=S(),L=$("tr"),P=$("td"),P.textContent="바리케이트수",D=S(),A=$("td"),N=I(ge),R=I("/"),z=I(he),E=S(),F=$("tr"),j=$("td"),j.textContent="생존자수",B=S(),_=$("td"),O=$("div"),U=I(ve),W=I("/"),H=I(be),q=S(),G=$("tr"),J=$("td"),J.textContent="아이템카드수",K=S(),Q=$("td"),V=I(Ce),X=S(),Y=$("div"),ee=$("div");for(let e=0;e<ye.length;e+=1)ye[e].c();Z(r,"colspan","2"),T(r,"height","26px"),T(b,"display","flex"),T(b,"width","50px"),T(b,"flex-wrap","wrap"),T(O,"display","flex"),T(O,"flex-direction","column"),T(ee,"display","flex"),T(ee,"width","25px"),T(ee,"flex-wrap","wrap")},m(e,k){x(e,t,k),C(t,n),C(n,r),C(r,i),C(r,a),C(r,o),C(r,l);for(let e=0;e<ke.length;e+=1)ke[e].m(r,null);C(t,c),C(t,s),C(s,u),C(s,d),C(s,m),C(m,f),C(m,p),C(m,g),C(m,h),C(m,v),C(v,b);for(let e=0;e<ue.length;e+=1)ue[e].m(b,null);C(t,y),C(t,L),C(L,P),C(L,D),C(L,A),C(A,N),C(A,R),C(A,z),C(t,E),C(t,F),C(F,j),C(F,B),C(F,_),C(_,O),C(O,U),C(O,W),C(O,H),C(t,q),C(t,G),C(G,J),C(G,K),C(G,Q),C(Q,V),C(Q,X),C(Q,Y),C(Y,ee);for(let e=0;e<ye.length;e+=1)ye[e].m(ee,null);te=!0},p(e,t){if((!te||1&t[0])&&ne!==(ne=e[20].name+"")&&M(i,ne),(!te||1&t[0])&&le!==(le=e[20].index+1+"")&&M(o,le),3&t[0]){let n;for(xe=e[1],n=0;n<xe.length;n+=1){const i=Dt(e,xe,n);ke[n]?ke[n].p(i,t):(ke[n]=Ot(i),ke[n].c(),ke[n].m(r,null))}for(;n<ke.length;n+=1)ke[n].d(1);ke.length=xe.length}if((!te||1&t[0])&&ce!==(ce=e[20].currentZombieCount+"")&&M(f,ce),(!te||1&t[0])&&se!==(se=e[20].maxZombieCount+"")&&M(g,se),1&t[0]){we=e[20].currentZombieList;for(let e=0;e<ue.length;e+=1)ue[e].r();ue=pe(ue,t,$e,0,e,we,de,b,me,Ut,null,Tt);for(let e=0;e<ue.length;e+=1)ue[e].a()}if((!te||1&t[0])&&ge!==(ge=e[20].currentBarricadeCount+"")&&M(N,ge),(!te||1&t[0])&&he!==(he=e[20].maxZombieCount+"")&&M(z,he),(!te||1&t[0])&&ve!==(ve=e[20].survivorList.length+"")&&M(U,ve),(!te||1&t[0])&&be!==(be=e[20].maxSurvivorCount+"")&&M(H,be),(!te||1&t[0])&&Ce!==(Ce=e[20].itemCardList.length+"")&&M(V,Ce),1&t[0]){Ie=e[20].itemCardList,re();for(let e=0;e<ye.length;e+=1)ye[e].r();ye=pe(ye,t,Se,1,e,Ie,Le,ee,fe,Wt,null,Mt);for(let e=0;e<ye.length;e+=1)ye[e].a();ie()}},i(e){if(!te){for(let e=0;e<Ie.length;e+=1)ae(ye[e]);te=!0}},o(e){for(let e=0;e<ye.length;e+=1)oe(ye[e]);te=!1},d(e){e&&k(t),w(ke,e);for(let e=0;e<ue.length;e+=1)ue[e].d();for(let e=0;e<ye.length;e+=1)ye[e].d()}}}function _t(e){let t,n,r,i,a,o,l,c,s,u,d,m,f,p,g,h,v,b,y,L,P,D,A,N,R,z,E,F,j,B,_,O,U,W,H,q,G,J,K,Q,V,X,Y,ee,te,ne,le,ce,se,ue,de,ge,he,ve,be,Ce,ye,Le,xe,ke,we,$e,Ie=e[20].name+"",Se=e[20].index+1+"",Pe=e[20].currentZombieCount+"",Ze=e[20].maxZombieCount+"",Me=[],Te=new Map,De=e[20].currentBarricadeCount+"",Ae=e[20].maxZombieCount+"",Ne=e[20].survivorList.length+"",Re=e[20].maxSurvivorCount+"",ze=Math.floor(e[20].survivorList.length/2)+"",Ee=e[20].foodCount+"",Fe=[],je=new Map,Be=e[20].starvingTokenCount+"",_e=e[20].trashCount+"",Oe=[],Ue=new Map,We=e[1],He=[];for(let t=0;t<We.length;t+=1)He[t]=Ht(zt(e,We,t));let qe=e[20].currentZombieList;const Ge=e=>e[32];for(let t=0;t<qe.length;t+=1){let n=Rt(e,qe,t),r=Ge(n);Te.set(r,Me[t]=qt(r))}let Je=e[4].foodList;const Ke=e=>e[30];for(let t=0;t<Je.length;t+=1){let n=Nt(e,Je,t),r=Ke(n);je.set(r,Fe[t]=Gt(r,n))}let Qe=e[4].trashList;const Ve=e=>e[27];for(let t=0;t<Qe.length;t+=1){let n=At(e,Qe,t),r=Ve(n);Ue.set(r,Oe[t]=Jt(r,n))}return{c(){t=$("table"),n=$("tr"),r=$("td"),i=I(Ie),a=I(" ("),o=I(Se),l=I(")\r\n                                ");for(let e=0;e<He.length;e+=1)He[e].c();c=S(),s=$("tr"),u=$("td"),u.textContent="좀비수",d=S(),m=$("td"),f=I(Pe),p=I("/"),g=I(Ze),h=S(),v=$("div"),b=$("div");for(let e=0;e<Me.length;e+=1)Me[e].c();y=S(),L=$("td"),L.textContent="바리케이트수",P=S(),D=$("td"),A=I(De),N=I("/"),R=I(Ae),z=S(),E=$("tr"),F=$("td"),F.textContent="생존자수",j=S(),B=$("td"),_=$("div"),O=I(Ne),U=I("/"),W=I(Re),H=S(),q=$("td"),G=I("식량("),J=$("span"),K=I(ze),Q=I("필요"),V=I(")"),X=S(),Y=$("td"),ee=I(Ee),te=S(),ne=$("div"),le=$("div");for(let e=0;e<Fe.length;e+=1)Fe[e].c();ce=S(),se=$("tr"),ue=$("td"),ue.textContent="굶주림 토큰",de=S(),ge=$("td"),he=I(Be),ve=S(),be=$("td"),be.textContent="쓰레기",Ce=S(),ye=$("td"),Le=I(_e),xe=S(),ke=$("div"),we=$("div");for(let e=0;e<Oe.length;e+=1)Oe[e].c();Z(r,"colspan","4"),T(r,"height","26px"),T(b,"display","flex"),T(b,"width","50px"),T(b,"flex-wrap","wrap"),T(_,"display","flex"),T(_,"flex-direction","column"),T(J,"background-color","lightgreen"),T(le,"display","flex"),T(le,"width","50px"),T(le,"flex-wrap","wrap"),T(we,"display","flex"),T(we,"width","50px"),T(we,"flex-wrap","wrap")},m(e,k){x(e,t,k),C(t,n),C(n,r),C(r,i),C(r,a),C(r,o),C(r,l);for(let e=0;e<He.length;e+=1)He[e].m(r,null);C(t,c),C(t,s),C(s,u),C(s,d),C(s,m),C(m,f),C(m,p),C(m,g),C(m,h),C(m,v),C(v,b);for(let e=0;e<Me.length;e+=1)Me[e].m(b,null);C(s,y),C(s,L),C(s,P),C(s,D),C(D,A),C(D,N),C(D,R),C(t,z),C(t,E),C(E,F),C(E,j),C(E,B),C(B,_),C(_,O),C(_,U),C(_,W),C(E,H),C(E,q),C(q,G),C(q,J),C(J,K),C(J,Q),C(q,V),C(E,X),C(E,Y),C(Y,ee),C(Y,te),C(Y,ne),C(ne,le);for(let e=0;e<Fe.length;e+=1)Fe[e].m(le,null);C(t,ce),C(t,se),C(se,ue),C(se,de),C(se,ge),C(ge,he),C(se,ve),C(se,be),C(se,Ce),C(se,ye),C(ye,Le),C(ye,xe),C(ye,ke),C(ke,we);for(let e=0;e<Oe.length;e+=1)Oe[e].m(we,null);$e=!0},p(e,t){if((!$e||1&t[0])&&Ie!==(Ie=e[20].name+"")&&M(i,Ie),(!$e||1&t[0])&&Se!==(Se=e[20].index+1+"")&&M(o,Se),3&t[0]){let n;for(We=e[1],n=0;n<We.length;n+=1){const i=zt(e,We,n);He[n]?He[n].p(i,t):(He[n]=Ht(i),He[n].c(),He[n].m(r,null))}for(;n<He.length;n+=1)He[n].d(1);He.length=We.length}if((!$e||1&t[0])&&Pe!==(Pe=e[20].currentZombieCount+"")&&M(f,Pe),(!$e||1&t[0])&&Ze!==(Ze=e[20].maxZombieCount+"")&&M(g,Ze),1&t[0]){qe=e[20].currentZombieList;for(let e=0;e<Me.length;e+=1)Me[e].r();Me=pe(Me,t,Ge,0,e,qe,Te,b,me,qt,null,Rt);for(let e=0;e<Me.length;e+=1)Me[e].a()}if((!$e||1&t[0])&&De!==(De=e[20].currentBarricadeCount+"")&&M(A,De),(!$e||1&t[0])&&Ae!==(Ae=e[20].maxZombieCount+"")&&M(R,Ae),(!$e||1&t[0])&&Ne!==(Ne=e[20].survivorList.length+"")&&M(O,Ne),(!$e||1&t[0])&&Re!==(Re=e[20].maxSurvivorCount+"")&&M(W,Re),(!$e||1&t[0])&&ze!==(ze=Math.floor(e[20].survivorList.length/2)+"")&&M(K,ze),(!$e||1&t[0])&&Ee!==(Ee=e[20].foodCount+"")&&M(ee,Ee),16&t[0]){Je=e[4].foodList,re();for(let e=0;e<Fe.length;e+=1)Fe[e].r();Fe=pe(Fe,t,Ke,1,e,Je,je,le,fe,Gt,null,Nt);for(let e=0;e<Fe.length;e+=1)Fe[e].a();ie()}if((!$e||1&t[0])&&Be!==(Be=e[20].starvingTokenCount+"")&&M(he,Be),(!$e||1&t[0])&&_e!==(_e=e[20].trashCount+"")&&M(Le,_e),16&t[0]){Qe=e[4].trashList,re();for(let e=0;e<Oe.length;e+=1)Oe[e].r();Oe=pe(Oe,t,Ve,1,e,Qe,Ue,we,fe,Jt,null,At);for(let e=0;e<Oe.length;e+=1)Oe[e].a();ie()}},i(e){if(!$e){for(let e=0;e<Je.length;e+=1)ae(Fe[e]);for(let e=0;e<Qe.length;e+=1)ae(Oe[e]);$e=!0}},o(e){for(let e=0;e<Fe.length;e+=1)oe(Fe[e]);for(let e=0;e<Oe.length;e+=1)oe(Oe[e]);$e=!1},d(e){e&&k(t),w(He,e);for(let e=0;e<Me.length;e+=1)Me[e].d();for(let e=0;e<Fe.length;e+=1)Fe[e].d();for(let e=0;e<Oe.length;e+=1)Oe[e].d()}}}function Ot(e){let t,n,r,i,a,o=e[35].name+"",l=e[20].playerSurvivorMap[e[35].name].length+"";return{c(){t=$("span"),n=I(o),r=I(" : "),i=I(l),a=I("\r\n                                     "),T(t,"border-radius","10px"),T(t,"border","1px solid darkgray"),T(t,"padding","2px"),T(t,"background-color",Ne.getPlayerColor(e[25]))},m(e,o){x(e,t,o),C(t,n),C(t,r),C(t,i),x(e,a,o)},p(e,t){2&t[0]&&o!==(o=e[35].name+"")&&M(n,o),3&t[0]&&l!==(l=e[20].playerSurvivorMap[e[35].name].length+"")&&M(i,l)},d(e){e&&k(t),e&&k(a)}}}function Ut(t,n){let r,i,a=e;return{key:t,first:null,c(){r=$("div"),T(r,"width","10px"),T(r,"height","10px"),T(r,"background-color","lightsalmon"),T(r,"border","1px solid red"),this.first=r},m(e,t){x(e,r,t)},p(e,t){},r(){i=r.getBoundingClientRect()},f(){F(r),a()},a(){a(),a=E(r,i,ze,{})},d(e){e&&k(r)}}}function Wt(t,n){let r,i,a,o,l,c=e;return{key:t,first:null,c(){r=$("div"),T(r,"width","1px"),T(r,"height","1px"),this.first=r},m(e,t){x(e,r,t),l=!0},p(e,t){n=e},r(){o=r.getBoundingClientRect()},f(){F(r),c(),j(r,o)},a(){c(),c=E(r,o,ze,{})},i(e){l||(G((()=>{a&&a.end(1),i=ce(r,n[10],{key:n[27]}),i.start()})),l=!0)},o(e){i&&i.invalidate(),a=se(r,n[9],{key:n[27]}),l=!1},d(e){e&&k(r),e&&a&&a.end()}}}function Ht(e){let t,n,r,i,a,o=e[35].name+"",l=e[20].playerSurvivorMap[e[35].name].length+"";return{c(){t=$("span"),n=I(o),r=I(" : "),i=I(l),a=I("\r\n                                     "),T(t,"border-radius","10px"),T(t,"border","1px solid darkgray"),T(t,"padding","2px"),T(t,"background-color",Ne.getPlayerColor(e[25]))},m(e,o){x(e,t,o),C(t,n),C(t,r),C(t,i),x(e,a,o)},p(e,t){2&t[0]&&o!==(o=e[35].name+"")&&M(n,o),3&t[0]&&l!==(l=e[20].playerSurvivorMap[e[35].name].length+"")&&M(i,l)},d(e){e&&k(t),e&&k(a)}}}function qt(t,n){let r,i,a=e;return{key:t,first:null,c(){r=$("div"),T(r,"width","10px"),T(r,"height","10px"),T(r,"background-color","lightsalmon"),T(r,"border","1px solid red"),this.first=r},m(e,t){x(e,r,t)},p(e,t){},r(){i=r.getBoundingClientRect()},f(){F(r),a()},a(){a(),a=E(r,i,ze,{})},d(e){e&&k(r)}}}function Gt(t,n){let r,i,a,o,l,c=e;return{key:t,first:null,c(){r=$("div"),r.innerHTML='<div style="width: 10px;height:10px;background-color:#ffdc7a;border:1px solid #f7ce59"></div> \n                                            ',this.first=r},m(e,t){x(e,r,t),l=!0},p(e,t){n=e},r(){o=r.getBoundingClientRect()},f(){F(r),c(),j(r,o)},a(){c(),c=E(r,o,ze,{})},i(e){l||(G((()=>{a&&a.end(1),i=ce(r,n[14],{key:n[30]}),i.start()})),l=!0)},o(e){i&&i.invalidate(),a=se(r,n[13],{key:n[30]}),l=!1},d(e){e&&k(r),e&&a&&a.end()}}}function Jt(t,n){let r,i,a,o,l,c=e;return{key:t,first:null,c(){r=$("div"),r.innerHTML='<div style="width: 10px;height:10px;background-color: lightgreen;border:1px solid greenyellow"></div> \n                                            ',this.first=r},m(e,t){x(e,r,t),l=!0},p(e,t){n=e},r(){o=r.getBoundingClientRect()},f(){F(r),c(),j(r,o)},a(){c(),c=E(r,o,ze,{})},i(e){l||(G((()=>{a&&a.end(1),i=ce(r,n[12],{key:n[27]}),i.start()})),l=!0)},o(e){i&&i.invalidate(),a=se(r,n[11],{key:n[27]}),l=!1},d(e){e&&k(r),e&&a&&a.end()}}}function Kt(e){let t,n,r,i,a,l,c,s;const u=[_t,Bt],d=[];function m(e,t){return"피난기지"==e[20].name?0:1}return n=m(e),r=d[n]=u[n](e),{c(){t=$("div"),r.c(),i=S(),Z(t,"class",a="flex place-header "+Ne.getPlaceClassName(e[20]))},m(r,a){x(r,t,a),d[n].m(t,null),C(t,i),l=!0,c||(s=P(t,"click",(function(){o(Ne.changePlaceByName(e[20].name))&&Ne.changePlaceByName(e[20].name).apply(this,arguments)})),c=!0)},p(o,c){let s=n;n=m(e=o),n===s?d[n].p(e,c):(re(),oe(d[s],1,1,(()=>{d[s]=null})),ie(),r=d[n],r?r.p(e,c):(r=d[n]=u[n](e),r.c()),ae(r,1),r.m(t,i)),(!l||1&c[0]&&a!==(a="flex place-header "+Ne.getPlaceClassName(e[20])))&&Z(t,"class",a)},i(e){l||(ae(r),l=!0)},o(e){oe(r),l=!1},d(e){e&&k(t),d[n].d(),c=!1,s()}}}function Qt(e){let t,n=e[5],r=[];for(let t=0;t<n.length;t+=1)r[t]=Vt(Pt(e,n,t));return{c(){t=$("div");for(let e=0;e<r.length;e+=1)r[e].c();T(t,"display","flex"),T(t,"flex-direction","column"),T(t,"justify-content","center"),T(t,"margin","10px 300px")},m(e,n){x(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,i){if(32&i[0]){let a;for(n=e[5],a=0;a<n.length;a+=1){const o=Pt(e,n,a);r[a]?r[a].p(o,i):(r[a]=Vt(o),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(e){e&&k(t),w(r,e)}}}function Vt(e){let t,n,r,i,a=e[25]+1+"",o=e[23]+"";return{c(){t=$("div"),n=I(a),r=S(),i=I(o)},m(e,a){x(e,t,a),C(t,n),C(t,r),C(t,i)},p(e,t){32&t[0]&&o!==(o=e[23]+"")&&M(i,o)},d(e){e&&k(t)}}}function Xt(e){let t,n,r,i,a;return n=new It({props:{placeIndex:e[22]}}),{c(){t=$("div"),ge(n.$$.fragment),r=S(),Z(t,"class",i="place-container "+e[20].activeClassName)},m(e,i){x(e,t,i),he(n,t,null),C(t,r),a=!0},p(e,n){(!a||1&n[0]&&i!==(i="place-container "+e[20].activeClassName))&&Z(t,"class",i)},i(e){a||(ae(n.$$.fragment,e),a=!0)},o(e){oe(n.$$.fragment,e),a=!1},d(e){e&&k(t),ve(n)}}}function Yt(e){let t,n,r,i,a,o,l,c,s,u,d,m,f,p,g=null!=e[2]&&Ft(e),h=e[0],v=[];for(let t=0;t<h.length;t+=1)v[t]=Kt(Zt(e,h,t));const b=e=>oe(v[e],1,1,(()=>{v[e]=null}));let y=e[5].length>0&&Qt(e),L=e[0],P=[];for(let t=0;t<L.length;t+=1)P[t]=Xt(St(e,L,t));const D=e=>oe(P[e],1,1,(()=>{P[e]=null}));return{c(){t=$("div"),n=$("div"),r=$("div"),i=I("목표 : "),a=$("span"),o=I(e[6]),l=S(),c=$("div"),g&&g.c(),s=S(),u=$("div");for(let e=0;e<v.length;e+=1)v[e].c();d=S(),y&&y.c(),m=S(),f=$("div");for(let e=0;e<P.length;e+=1)P[e].c();Z(a,"class","game-title"),T(r,"line-height","30px"),T(c,"line-height","30px"),T(c,"display","flex"),T(c,"margin-left","10px"),T(n,"display","flex"),T(n,"justify-content","center"),T(n,"background-color","#0f6674"),T(n,"color","white"),Z(u,"class","flex"),T(u,"padding","10px"),T(u,"justify-content","space-evenly"),Z(f,"class","place-container"),Z(t,"class","flex-column")},m(e,h){x(e,t,h),C(t,n),C(n,r),C(r,i),C(r,a),C(a,o),C(n,l),C(n,c),g&&g.m(c,null),C(t,s),C(t,u);for(let e=0;e<v.length;e+=1)v[e].m(u,null);C(t,d),y&&y.m(t,null),C(t,m),C(t,f);for(let e=0;e<P.length;e+=1)P[e].m(f,null);p=!0},p(e,n){if((!p||64&n[0])&&M(o,e[6]),null!=e[2]?g?(g.p(e,n),4&n[0]&&ae(g,1)):(g=Ft(e),g.c(),ae(g,1),g.m(c,null)):g&&(re(),oe(g,1,1,(()=>{g=null})),ie()),19&n[0]){let t;for(h=e[0],t=0;t<h.length;t+=1){const r=Zt(e,h,t);v[t]?(v[t].p(r,n),ae(v[t],1)):(v[t]=Kt(r),v[t].c(),ae(v[t],1),v[t].m(u,null))}for(re(),t=h.length;t<v.length;t+=1)b(t);ie()}if(e[5].length>0?y?y.p(e,n):(y=Qt(e),y.c(),y.m(t,m)):y&&(y.d(1),y=null),1&n[0]){let t;for(L=e[0],t=0;t<L.length;t+=1){const r=St(e,L,t);P[t]?(P[t].p(r,n),ae(P[t],1)):(P[t]=Xt(r),P[t].c(),ae(P[t],1),P[t].m(f,null))}for(re(),t=L.length;t<P.length;t+=1)D(t);ie()}},i(e){if(!p){ae(g);for(let e=0;e<h.length;e+=1)ae(v[e]);for(let e=0;e<L.length;e+=1)ae(P[e]);p=!0}},o(e){oe(g),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)oe(v[e]);P=P.filter(Boolean);for(let e=0;e<P.length;e+=1)oe(P[e]);p=!1},d(e){e&&k(t),g&&g.d(),w(v,e),y&&y.d(),w(P,e)}}}function en(e,t,n){let r;m(e,Ne,(e=>n(15,r=e)));const[i,a]=Fe,[o,l]=je,[c,s]=_e,[u,d]=Be;let f,p,g,h,v,b,C;return e.$$.update=()=>{32768&e.$$.dirty[0]&&(n(0,f=r.placeList),n(1,p=r.playerList),n(6,C=r.goal),n(5,b=r.messageList),n(2,g=r.currentRiskCard),n(3,h=r.successRiskCardList),n(4,v=r.placeList.find((e=>"피난기지"===e.name))))},[f,p,g,h,v,b,C,i,a,o,l,c,s,u,d,r]}class tn extends ye{constructor(e){super(),Ce(this,e,en,Yt,l,{},null,[-1,-1])}}function nn(e,t,n){const r=e.slice();return r[10]=t[n],r}function rn(e,t,n){const r=e.slice();return r[7]=t[n],r}function an(e){let t;function n(e,t){return"move"==e[0]?ln:"care"==e[0]?on:void 0}let r=n(e),i=r&&r(e);return{c(){i&&i.c(),t=I("")},m(e,n){i&&i.m(e,n),x(e,t,n)},p(e,a){r===(r=n(e))&&i?i.p(e,a):(i&&i.d(1),i=r&&r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i&&i.d(e),e&&k(t)}}}function on(e){let t,n,r,i=e[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=cn(nn(e,i,t));return{c(){t=$("div");for(let e=0;e<a.length;e+=1)a[e].c();n=S(),r=$("div"),r.innerHTML="<button>취소</button>",T(r,"display","flex"),T(r,"flex-direction","row-reverse"),T(t,"display","flex"),T(t,"flex-direction","column")},m(e,i){x(e,t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);C(t,n),C(t,r)},p(e,r){if(2&r){let o;for(i=e[1],o=0;o<i.length;o+=1){const l=nn(e,i,o);a[o]?a[o].p(l,r):(a[o]=cn(l),a[o].c(),a[o].m(t,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(e){e&&k(t),w(a,e)}}}function ln(e){let t,n,r,i,a,o,l,c,s,u,d=e[3].name+"",m=e[3].targetPlaceList,f=[];for(let t=0;t<m.length;t+=1)f[t]=sn(rn(e,m,t));return{c(){t=$("div"),n=$("div"),r=$("strong"),i=I(d),a=S(),o=$("div");for(let e=0;e<f.length;e+=1)f[e].c();l=S(),c=$("div"),c.textContent="위험노출 주사위 없이 이동",s=S(),u=$("div"),u.innerHTML="<button>취소</button>",T(n,"display","flex"),T(n,"margin-top","10px"),T(o,"display","flex"),T(o,"margin-top","10px"),T(c,"display","flex"),T(c,"margin-top","10px"),T(u,"display","flex"),T(u,"flex-direction","row-reverse"),T(t,"display","flex"),T(t,"flex-direction","column")},m(e,d){x(e,t,d),C(t,n),C(n,r),C(r,i),C(t,a),C(t,o);for(let e=0;e<f.length;e+=1)f[e].m(o,null);C(t,l),C(t,c),C(t,s),C(t,u)},p(e,t){if(8&t&&d!==(d=e[3].name+"")&&M(i,d),8&t){let n;for(m=e[3].targetPlaceList,n=0;n<m.length;n+=1){const r=rn(e,m,n);f[n]?f[n].p(r,t):(f[n]=sn(r),f[n].c(),f[n].m(o,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=m.length}},d(e){e&&k(t),w(f,e)}}}function cn(e){let t,n,r,i,a,o,l=e[10].name+"";function c(){return e[5](e[10])}return{c(){t=$("div"),n=$("button"),r=I(l),i=I(" 치료"),T(t,"display","flex"),T(t,"margin-top","10px")},m(e,l){x(e,t,l),C(t,n),C(n,r),C(n,i),a||(o=P(n,"click",c),a=!0)},p(t,n){e=t,2&n&&l!==(l=e[10].name+"")&&M(r,l)},d(e){e&&k(t),a=!1,o()}}}function sn(e){let t,n,r,i,a,l=e[7].name+"";return{c(){t=$("button"),n=I(l),Z(t,"class","none-action-dice-button"),t.disabled=r=e[7].disabled,T(t,"margin-right","5px")},m(r,l){x(r,t,l),C(t,n),i||(a=P(t,"click",(function(){o(Ne.move(e[3],e[7].name))&&Ne.move(e[3],e[7].name).apply(this,arguments)})),i=!0)},p(i,a){e=i,8&a&&l!==(l=e[7].name+"")&&M(n,l),8&a&&r!==(r=e[7].disabled)&&(t.disabled=r)},d(e){e&&k(t),i=!1,a()}}}function un(e){let t,n,r,i,a,o,l,c,s,u,d,m,f,p,g,h,v=null!=e[3]&&an(e);return l=new Qe({props:{playerIndex:0}}),u=new tn({}),f=new Qe({props:{playerIndex:1}}),{c(){t=$("div"),n=$("div"),v&&v.c(),i=S(),a=$("div"),o=$("div"),ge(l.$$.fragment),c=S(),s=$("div"),ge(u.$$.fragment),d=S(),m=$("div"),ge(f.$$.fragment),Z(n,"class","modal_body"),Z(t,"class",r="modal "+e[2]),Z(o,"class","board-item-section board-player-section"),Z(s,"class","board-item-section board-content-section"),Z(m,"class","board-item-section board-player-section"),Z(a,"class","board flex")},m(e,r){x(e,t,r),C(t,n),v&&v.m(n,null),x(e,i,r),x(e,a,r),C(a,o),he(l,o,null),C(a,c),C(a,s),he(u,s,null),C(a,d),C(a,m),he(f,m,null),p=!0,g||(h=P(window,"keydown",Ne.changePlace),g=!0)},p(e,[i]){null!=e[3]?v?v.p(e,i):(v=an(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),(!p||4&i&&r!==(r="modal "+e[2]))&&Z(t,"class",r)},i(e){p||(ae(l.$$.fragment,e),ae(u.$$.fragment,e),ae(f.$$.fragment,e),p=!0)},o(e){oe(l.$$.fragment,e),oe(u.$$.fragment,e),oe(f.$$.fragment,e),p=!1},d(e){e&&k(t),v&&v.d(),e&&k(i),e&&k(a),ve(l),ve(u),ve(f),g=!1,h()}}}function dn(e,t,n){let r,i,a,o;m(e,Ne,(e=>n(4,r=e)));let l=[];Ne.updateAll();return e.$$.update=()=>{19&e.$$.dirty&&(n(0,i=r.modalType),n(2,a=r.modalClass),n(3,o=r.currentSurvivor),r.currentPlace&&n(1,l=r.currentPlace.survivorList.filter((e=>e.wound>0))),console.log(">>> modalType",i),console.log(">>> woundSurvivorList",l))},[i,l,a,o,r,e=>Ne.care(e)]}return new class extends ye{constructor(e){super(),Ce(this,e,dn,un,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
